"use strict";(()=>{var e={};e.id=496,e.ids=[496],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3369:(e,i,t)=>{t.r(i),t.d(i,{originalPathname:()=>N,patchFetch:()=>V,requestAsyncStorage:()=>P,routeModule:()=>L,serverHooks:()=>H,staticGenerationAsyncStorage:()=>M});var n={};t.r(n),t.d(n,{GET:()=>A});var l=t(9303),a=t(8716),o=t(670),r=t(7070);let u=[{entityCategory:"compound",entityId:"CMP-001",name:"ColdCompound-X",synonyms:"CCX",smiles:"CC(=O)O",formula:"C10H12O3",structureImage:"/img/compound_struct.png",mol2dPath:"/mol/CMP-001_2d.mol",mol3dPath:"/mol/CMP-001_3d.mol",pubchemCid:"123456",inchi:"InChI=1S/...",inchikey:"ABCDEFG-HIJKL",iupacName:"IUPAC long name",molecularWeight:1234.56,complexity:88.1,heavyAtomCount:42,hbondAcceptors:5,hbondDonors:2,rotatableBonds:7,logp:3.14,tpsa:44.2,linkerType:null,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"ligand",entityId:"LIG-001",name:"Ligand-A",logp:2.1,tpsa:61.2,linkerType:null,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"linker",entityId:"LNK-001",name:"MC-Val-Cit-PABC",linkerType:"cleavable",logp:1.7,tpsa:55.1,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"chelator",entityId:"CHT-001",name:"DOTA",logp:-1.1,tpsa:75.4,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"radionuclide",entityId:"RAD-001",name:"Lu-177",radionuclideSymbol:"Lu",radionuclideHalfLife:"6.7 days",radionuclideEmission:"Beta / Gamma",radionuclideEnergy:"0.497 MeV"},{entityCategory:"compound",entityId:"CMP-002",name:"ColdCompound-Y",synonyms:"CCY",smiles:"CC(=O)N",formula:"C12H14N2O2",structureImage:"/img/compound_struct_y.png",mol2dPath:"/mol/CMP-002_2d.mol",mol3dPath:"/mol/CMP-002_3d.mol",molecularWeight:142.22,complexity:65.4,heavyAtomCount:36,hbondAcceptors:6,hbondDonors:1,rotatableBonds:5,logp:2.74,tpsa:38.9,linkerType:null,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"ligand",entityId:"LIG-002",name:"Ligand-B",logp:2,tpsa:60,linkerType:null,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"linker",entityId:"LNK-002",name:"PEG4-Val-Cit",linkerType:"cleavable",logp:1.2,tpsa:49,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"chelator",entityId:"CHT-002",name:"NOTA",logp:-.6,tpsa:80.3,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"radionuclide",entityId:"RAD-002",name:"Ac-225",radionuclideSymbol:"Ac",radionuclideHalfLife:"10 days",radionuclideEmission:"Alpha",radionuclideEnergy:"5.8 MeV"},{entityCategory:"compound",entityId:"CMP-003",name:"ColdCompound-Z",synonyms:"CCZ",smiles:"C7H5N3O6",formula:"C7H5N3O6",structureImage:"/img/compound_struct_z.png",mol2dPath:"/mol/CMP-003_2d.mol",mol3dPath:"/mol/CMP-003_3d.mol",molecularWeight:215.13,complexity:97.5,heavyAtomCount:21,hbondAcceptors:7,hbondDonors:0,rotatableBonds:3,logp:1.4,tpsa:62.1,linkerType:null,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"ligand",entityId:"LIG-003",name:"Ligand-C",logp:1.5,tpsa:54.8,linkerType:null,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"linker",entityId:"LNK-003",name:"Azido-PEG3",linkerType:"clickable",logp:.8,tpsa:70.1,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"chelator",entityId:"CHT-003",name:"DFO",logp:-.9,tpsa:82.2,radionuclideSymbol:null,radionuclideHalfLife:null,radionuclideEmission:null,radionuclideEnergy:null},{entityCategory:"radionuclide",entityId:"RAD-003",name:"Ga-68",radionuclideSymbol:"Ga",radionuclideHalfLife:"67.7 minutes",radionuclideEmission:"Positron",radionuclideEnergy:"1.90 MeV"}],d=[{drugId:"RDC-0001",entityCategory:"compound",entityId:"CMP-001",relationRole:"active"},{drugId:"RDC-0001",entityCategory:"ligand",entityId:"LIG-001",relationRole:"active"},{drugId:"RDC-0001",entityCategory:"linker",entityId:"LNK-001",relationRole:"active"},{drugId:"RDC-0001",entityCategory:"chelator",entityId:"CHT-001",relationRole:"active"},{drugId:"RDC-0001",entityCategory:"radionuclide",entityId:"RAD-001",relationRole:"active"},{drugId:"RDC-0002",entityCategory:"compound",entityId:"CMP-002",relationRole:"active"},{drugId:"RDC-0002",entityCategory:"ligand",entityId:"LIG-002",relationRole:"active"},{drugId:"RDC-0002",entityCategory:"linker",entityId:"LNK-002",relationRole:"active"},{drugId:"RDC-0002",entityCategory:"chelator",entityId:"CHT-002",relationRole:"active"},{drugId:"RDC-0002",entityCategory:"radionuclide",entityId:"RAD-002",relationRole:"active"},{drugId:"RDC-0003",entityCategory:"compound",entityId:"CMP-003",relationRole:"active"},{drugId:"RDC-0003",entityCategory:"ligand",entityId:"LIG-003",relationRole:"active"},{drugId:"RDC-0003",entityCategory:"linker",entityId:"LNK-003",relationRole:"active"},{drugId:"RDC-0003",entityCategory:"chelator",entityId:"CHT-003",relationRole:"active"},{drugId:"RDC-0003",entityCategory:"radionuclide",entityId:"RAD-003",relationRole:"active"}],s=["compound","ligand","linker","chelator","radionuclide"],m=new Map([{drugId:"RDC-0001",externalId:"EXT-0001",type:"Treatment",drugName:"Trastuzumab",drugSynonyms:"Herceptin; rhuMAb HER2",status:"Approved",mainPubmed:"12345678",mainDoi:"10.1000/j.jmb.2024.01.001",smiles:"C1=CC=...N2",structureImage:"/static/structures/RDC-0001.png",chebiId:"CHEBI:12345",pubchemCid:"176870",pubchemSid:"24871637",notes:"First monoclonal antibody targeting HER2.",createdAt:"2023-01-01T00:00:00Z",updatedAt:"2024-06-01T00:00:00Z"},{drugId:"RDC-0002",externalId:"EXT-0002",type:"Treatment",drugName:"Pertuzumab",drugSynonyms:"Omnitarg",status:"Phase 3",mainPubmed:"87654321",smiles:"C2=CC=...N3",structureImage:"/static/structures/RDC-0002.png",chebiId:"CHEBI:54321",pubchemCid:"24857091",pubchemSid:"36712890",createdAt:"2023-06-15T00:00:00Z",updatedAt:"2024-05-20T00:00:00Z"},{drugId:"RDC-0003",externalId:"EXT-0003",type:"Diagnosis",drugName:"Example Diagnostic RDC",drugSynonyms:"EDR",status:"Investigational New Drug",mainPubmed:"11223344",smiles:"C3=CC=...N4",structureImage:"/static/structures/RDC-0003.png",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-09-05T00:00:00Z"}].map(e=>[e.drugId,e])),c=new Map(u.map(e=>[e.entityId,e])),y=h(d,e=>e.drugId),g=h([{drugId:"RDC-0001",clinicalTrialNumber:"NCT00000000",indication:"HER2+ breast cancer",patients:"n=120, female adults",dosage:"8 mg/kg loading, 6 mg/kg maintenance",frequency:"every 3 weeks",resultsDescription:"Significant improvement in progression-free survival.",purpose:"Assess efficacy in metastatic HER2+ breast cancer",clinicalEndpoint:"PFS",endpointPeriod:"12 months",efficacyDescription:"Improved ORR to 60%",adverseEventsSummary:"Grade 1-2 infusion reactions",securityIndicators:"Monitored LVEF quarterly"},{drugId:"RDC-0002",clinicalTrialNumber:"NCT11111111",indication:"Metastatic breast cancer",patients:"n=80",dosage:"420 mg",frequency:"every 3 weeks",resultsDescription:"Comparable efficacy to standard of care.",purpose:"Combination therapy with docetaxel",clinicalEndpoint:"ORR",endpointPeriod:"24 weeks",efficacyDescription:"ORR 54%",adverseEventsSummary:"Neutropenia, diarrhea",securityIndicators:"Cardiac monitoring required"},{drugId:"RDC-0003",clinicalTrialNumber:"NCT22222222",indication:"Neuroendocrine tumors",patients:"n=32",dosage:"200 MBq",frequency:"single administration",resultsDescription:"Early imaging shows high lesion uptake.",purpose:"Phase I dosimetry study",clinicalEndpoint:"Biodistribution",endpointPeriod:"72 hours",efficacyDescription:"Imaging contrast ratio > 6",adverseEventsSummary:"No serious adverse events",securityIndicators:"Renal function monitoring only"}],e=>e.drugId),p=h([{studyId:"STUDY-01",drugId:"RDC-0001",pmid:"33344455",doi:"10.1000/animal.01"},{studyId:"STUDY-02",drugId:"RDC-0001",pmid:"33344456",doi:"10.1000/animal.02"},{studyId:"STUDY-03",drugId:"RDC-0002",pmid:"33344457",doi:"10.1000/animal.03"},{studyId:"STUDY-04",drugId:"RDC-0003",pmid:"33344458",doi:"10.1000/animal.04"}],e=>e.drugId),f=h([{studyRefId:"STUDY-01",pkAnimalModel:"Mouse xenograft",pkDosageSymbols:"≈",pkDosageValue:5,pkDosageUnit:"mg/kg",pkDescription:"Biphasic clearance observed.",halfLife:"2.5h",pkImage:"/img/pk.png"},{studyRefId:"STUDY-03",pkAnimalModel:"Rat",pkDosageSymbols:"=",pkDosageValue:10,pkDosageUnit:"mg/kg",pkDescription:"Stable plasma exposure.",halfLife:"3.8h"}],e=>e.studyRefId),_=h([{studyRefId:"STUDY-01",biodistType:"Biodistribution",animalModel:"Mouse",dosageSymbols:"=",dosageValue:10,dosageUnit:"MBq",metabolism:"Hepatic clearance",excretion:"Renal and biliary",detectionTime:"2h",tumorRetentionTime:"24h",tbrTumorBlood:12.3,tbrTumorMuscle:5.4,tbrTumorKidney:2.1,tbrTumorSalivaryGlands:1.1,tbrTumorLiver:.8,tbrTumorLung:3.2,tbrTumorHeart:4.5,biodistResultImage:"/img/biodist.png",biodistDescription:"Sustained tumor uptake with fast blood clearance."},{studyRefId:"STUDY-04",biodistType:"Dosimetry",animalModel:"Rabbit",dosageSymbols:"≈",dosageValue:15,dosageUnit:"MBq",metabolism:"Minimal metabolism",excretion:"Renal",detectionTime:"1h",tumorRetentionTime:"12h",tbrTumorBlood:8.1,tbrTumorMuscle:4.2,tbrTumorKidney:3.5,tbrTumorSalivaryGlands:1.8,tbrTumorLiver:1,tbrTumorLung:2.5,tbrTumorHeart:3.1}],e=>e.studyRefId),I=h([{studyRefId:"STUDY-01",efficacyAnimalModel:"Mouse",efficacyDosageSymbols:"<",efficacyDosageValue:10,efficacyDosageUnit:"MBq",efficacyDescription:"Tumor growth inhibition 75%",adverseReactions:"Mild body weight loss"},{studyRefId:"STUDY-03",efficacyAnimalModel:"Rat",efficacyDosageSymbols:"=",efficacyDosageValue:5,efficacyDosageUnit:"mg/kg",efficacyDescription:"Tumor regression in 3/6 animals",adverseReactions:"Transient lethargy"}],e=>e.studyRefId),b=h([{inVitroId:"IV-01",drugId:"RDC-0001",studyOverview:"Affinity study against HER2-positive cell lines.",notes:"Used SPR and flow cytometry."},{inVitroId:"IV-02",drugId:"RDC-0002",studyOverview:"Partition coefficient and stability in serum."}],e=>e.drugId),C=h([{inVitroRefId:"IV-01",measurementCategory:"affinity",measurementType:"KD",measurementSymbols:"=",measurementValue:.12,measurementUnit:"nM",methodDescription:"Surface plasmon resonance"},{inVitroRefId:"IV-01",measurementCategory:"stability",measurementType:"Serum stability",measurementSymbols:"≈",measurementValue:96,measurementUnit:"%",methodDescription:"Incubated at 37C for 72h"},{inVitroRefId:"IV-02",measurementCategory:"partition_coefficient",measurementType:"logP",measurementSymbols:"=",measurementValue:3.14,methodDescription:"Octanol/water"},{inVitroRefId:"IV-02",measurementCategory:"stability",measurementType:"Serum stability",measurementSymbols:"=",measurementValue:92,measurementUnit:"%",methodDescription:"Radio-HPLC analysis"}],e=>e.inVitroRefId);function h(e,i){let t=new Map;for(let n of e){let e=i(n);t.has(e)||t.set(e,[]),t.get(e).push(n)}return t}function R(e,i){let t=(y.get(e)??[]).filter(e=>e.entityCategory===i);if(0===t.length)return;let n=t.find(e=>"active"===e.relationRole)??t[0];return c.get(n.entityId)?.name}function v(e){return{clinical_trial_number:e.clinicalTrialNumber??null,indication:e.indication??null,patients:e.patients??null,dosage:e.dosage??null,frequency:e.frequency??null,results_description:e.resultsDescription??null,purpose:e.purpose??null,clinical_endpoint:e.clinicalEndpoint??null,endpoint_period:e.endpointPeriod??null,efficacy_description:e.efficacyDescription??null,adverse_events_summary:e.adverseEventsSummary??null,security_indicators:e.securityIndicators??null}}function D(e){return{pk_animal_model:e.pkAnimalModel??null,pk_dosage_symbols:e.pkDosageSymbols??null,pk_dosage_value:e.pkDosageValue??null,pk_dosage_unit:e.pkDosageUnit??null,pk_description:e.pkDescription??null,half_life:e.halfLife??null,pk_image:e.pkImage??null}}function T(e){return{biodist_type:e.biodistType??null,animal_model:e.animalModel??null,dosage_symbols:e.dosageSymbols??null,dosage_value:e.dosageValue??null,dosage_unit:e.dosageUnit??null,metabolism:e.metabolism??null,excretion:e.excretion??null,detection_time:e.detectionTime??null,tumor_retention_time:e.tumorRetentionTime??null,tbr:{tumor_blood:e.tbrTumorBlood??null,tumor_muscle:e.tbrTumorMuscle??null,tumor_kidney:e.tbrTumorKidney??null,tumor_salivary_glands:e.tbrTumorSalivaryGlands??null,tumor_liver:e.tbrTumorLiver??null,tumor_lung:e.tbrTumorLung??null,tumor_heart:e.tbrTumorHeart??null},biodist_result_image:e.biodistResultImage??null,biodist_description:e.biodistDescription??null}}function S(e){return{efficacy_animal_model:e.efficacyAnimalModel??null,efficacy_dosage_symbols:e.efficacyDosageSymbols??null,efficacy_dosage_value:e.efficacyDosageValue??null,efficacy_dosage_unit:e.efficacyDosageUnit??null,efficacy_description:e.efficacyDescription??null,adverse_reactions:e.adverseReactions??null}}var E=t(1402),k=t(1970);function A(e,i){let{entity_category:t,entity_id:n}=i.params;if(!t)return(0,E.Bp)("缺少路径参数 entity_category",["entity_category"]);if(!n)return(0,E.Bp)("缺少路径参数 entity_id",["entity_id"]);if(!s.includes(t))return(0,E.Bp)(`entity_category 不支持 ${t}`,["entity_category"]);let l=function(e,i,t){let n=u.find(t=>t.entityCategory===e&&t.entityId===i);if(!n)return;let l={entity_category:n.entityCategory,entity_id:n.entityId,name:n.name,synonyms:n.synonyms??null,smiles:n.smiles??null,formula:n.formula??null,structure_image:n.structureImage??null,mol2d_path:n.mol2dPath??null,mol3d_path:n.mol3dPath??null,pubchem_cid:n.pubchemCid??null,inchi:n.inchi??null,inchikey:n.inchikey??null,iupac_name:n.iupacName??null,molecular_weight:n.molecularWeight??null,complexity:n.complexity??null,heavy_atom_count:n.heavyAtomCount??null,hbond_acceptors:n.hbondAcceptors??null,hbond_donors:n.hbondDonors??null,rotatable_bonds:n.rotatableBonds??null,logp:n.logp??null,tpsa:n.tpsa??null,linker_type:n.linkerType??null,radionuclide_symbol:n.radionuclideSymbol??null,radionuclide_half_life:n.radionuclideHalfLife??null,radionuclide_emission:n.radionuclideEmission??null,radionuclide_energy:n.radionuclideEnergy??null};return t.includeActivity?{basic:l,rdc_activity:Array.from(new Set(d.filter(t=>t.entityCategory===e&&t.entityId===i).map(e=>e.drugId))).map(e=>(function(e,i={}){var t;let n=m.get(e);if(!n)return;let l=i.expand??new Set,a=i.allEntities??!1,o={general:{drug_id:n.drugId,external_id:n.externalId??null,drug_name:n.drugName,drug_synonyms:n.drugSynonyms??null,status:n.status??null,type:n.type??null,smiles:n.smiles??null,structure_image:n.structureImage??null,chebi_id:n.chebiId??null,pubchem_cid:n.pubchemCid??null,pubchem_sid:n.pubchemSid??null,created_at:n.createdAt,updated_at:n.updatedAt}};return(!i.expand||l.has("chemicals")||i.allEntities)&&(o.chemicals=function(e,i){let t={compound_name:R(e,"compound")??null,ligand_name:R(e,"ligand")??null,linker_name:R(e,"linker")??null,chelator_name:R(e,"chelator")??null,radionuclide_name:R(e,"radionuclide")??null};return i&&(t.entities=function(e){let i=y.get(e)??[],t={compound:[],ligand:[],linker:[],chelator:[],radionuclide:[]};for(let e of i){let i=c.get(e.entityId);i&&t[e.entityCategory].push({entity_id:i.entityId,name:i.name,relation_role:e.relationRole})}return t}(e)),t}(n.drugId,a)),l.has("human_activity")&&(o.human_activity=(g.get(n.drugId)??[]).map(v)),l.has("animal_in_vivo")&&(o.animal_in_vivo=(t=n.drugId,{studies:(p.get(t)??[]).map(e=>({study_id:e.studyId,pmid:e.pmid??null,doi:e.doi??null,pk:(f.get(e.studyId)??[]).map(D),biodistribution:(_.get(e.studyId)??[]).map(T),efficacy:(I.get(e.studyId)??[]).map(S)}))})),l.has("in_vitro")&&(o.in_vitro=function(e){let i=b.get(e)??[],t=i.map(e=>({in_vitro_id:e.inVitroId,study_overview:e.studyOverview??null,notes:e.notes??null})),n={};for(let e of i)for(let i of C.get(e.inVitroId)??[]){let e=i.measurementCategory;n[e]||(n[e]=[]),n[e].push({measurement_type:i.measurementType??null,measurement_symbols:i.measurementSymbols??null,measurement_value:i.measurementValue??null,measurement_unit:i.measurementUnit??null,method_description:i.methodDescription??null})}return{studies:t,...n}}(n.drugId)),o})(e,{expand:new Set(["chemicals","human_activity","animal_in_vivo","in_vitro"]),allEntities:!0})).filter(e=>!!e).map(e=>({drug_id:e.general.drug_id,drug_name:e.general.drug_name,status:e.general.status??null,type:e.general.type??null,human_activity:e.human_activity??[],animal_in_vivo:e.animal_in_vivo??{studies:[]},in_vitro:e.in_vitro??{}}))}:{basic:l}}(t,n,{includeActivity:(0,k.nV)(new URL(e.url).searchParams.get("include_activity"),!0)});return l?r.NextResponse.json(l):(0,E.v6)(`未找到化学实体 ${n}`)}let L=new l.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/chemical/[entity_category]/[entity_id]/route",pathname:"/api/chemical/[entity_category]/[entity_id]",filename:"route",bundlePath:"app/api/chemical/[entity_category]/[entity_id]/route"},resolvedPagePath:"E:\\project\\drug\\rdc-api\\app\\api\\chemical\\[entity_category]\\[entity_id]\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:P,staticGenerationAsyncStorage:M,serverHooks:H}=L,N="/api/chemical/[entity_category]/[entity_id]/route";function V(){return(0,o.patchFetch)({serverHooks:H,staticGenerationAsyncStorage:M})}},1402:(e,i,t)=>{t.d(i,{Bp:()=>a,I3:()=>r,v6:()=>o});var n=t(7070);function l({code:e,message:i,status:t,details:l=[]}){return n.NextResponse.json({error:{code:e,message:i,details:l}},{status:t})}function a(e,i=[]){return l({code:"VALIDATION_ERROR",message:e,status:422,details:i})}function o(e){return l({code:"NOT_FOUND",message:e,status:404})}function r(e){return l({code:"SERVER_ERROR",message:e,status:500})}},1970:(e,i,t)=>{function n(e,i,{min:t,max:n}={}){if(null===e||""===e.trim())return i;let l=Number.parseInt(e,10);return Number.isNaN(l)?i:"number"==typeof t&&l<t?t:"number"==typeof n&&l>n?n:l}function l(e,i){if(null===e||""===e.trim())return i;let t=e.trim().toLowerCase();return!!["true","1","yes","y"].includes(t)||!["false","0","no","n"].includes(t)&&i}function a(e){return e?new Set(e.split(",").map(e=>e.trim()).filter(Boolean)):new Set}t.d(i,{LN:()=>n,nV:()=>l,t1:()=>a})}};var i=require("../../../../../webpack-runtime.js");i.C(e);var t=e=>i(i.s=e),n=i.X(0,[276,972],()=>t(3369));module.exports=n})();