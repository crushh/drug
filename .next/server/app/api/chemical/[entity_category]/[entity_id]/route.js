/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chemical/[entity_category]/[entity_id]/route";
exports.ids = ["app/api/chemical/[entity_category]/[entity_id]/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&page=%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute.ts&appDir=E%3A%5Cproject%5Cdrug%5Crdc-api%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cproject%5Cdrug%5Crdc-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&page=%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute.ts&appDir=E%3A%5Cproject%5Cdrug%5Crdc-api%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cproject%5Cdrug%5Crdc-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_project_drug_rdc_api_app_api_chemical_entity_category_entity_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/chemical/[entity_category]/[entity_id]/route.ts */ \"(rsc)/./app/api/chemical/[entity_category]/[entity_id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chemical/[entity_category]/[entity_id]/route\",\n        pathname: \"/api/chemical/[entity_category]/[entity_id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/chemical/[entity_category]/[entity_id]/route\"\n    },\n    resolvedPagePath: \"E:\\\\project\\\\drug\\\\rdc-api\\\\app\\\\api\\\\chemical\\\\[entity_category]\\\\[entity_id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_project_drug_rdc_api_app_api_chemical_entity_category_entity_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chemical/[entity_category]/[entity_id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGVtaWNhbCUyRiU1QmVudGl0eV9jYXRlZ29yeSU1RCUyRiU1QmVudGl0eV9pZCU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2hlbWljYWwlMkYlNUJlbnRpdHlfY2F0ZWdvcnklNUQlMkYlNUJlbnRpdHlfaWQlNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjaGVtaWNhbCUyRiU1QmVudGl0eV9jYXRlZ29yeSU1RCUyRiU1QmVudGl0eV9pZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDcHJvamVjdCU1Q2RydWclNUNyZGMtYXBpJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1FJTNBJTVDcHJvamVjdCU1Q2RydWclNUNyZGMtYXBpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QztBQUNySDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3JkYy1hcGkvPzU2MGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxccHJvamVjdFxcXFxkcnVnXFxcXHJkYy1hcGlcXFxcYXBwXFxcXGFwaVxcXFxjaGVtaWNhbFxcXFxbZW50aXR5X2NhdGVnb3J5XVxcXFxbZW50aXR5X2lkXVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hlbWljYWwvW2VudGl0eV9jYXRlZ29yeV0vW2VudGl0eV9pZF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGVtaWNhbC9bZW50aXR5X2NhdGVnb3J5XS9bZW50aXR5X2lkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2hlbWljYWwvW2VudGl0eV9jYXRlZ29yeV0vW2VudGl0eV9pZF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJFOlxcXFxwcm9qZWN0XFxcXGRydWdcXFxccmRjLWFwaVxcXFxhcHBcXFxcYXBpXFxcXGNoZW1pY2FsXFxcXFtlbnRpdHlfY2F0ZWdvcnldXFxcXFtlbnRpdHlfaWRdXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jaGVtaWNhbC9bZW50aXR5X2NhdGVnb3J5XS9bZW50aXR5X2lkXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&page=%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute.ts&appDir=E%3A%5Cproject%5Cdrug%5Crdc-api%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cproject%5Cdrug%5Crdc-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/chemical/[entity_category]/[entity_id]/route.ts":
/*!*****************************************************************!*\
  !*** ./app/api/chemical/[entity_category]/[entity_id]/route.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/http */ \"(rsc)/./lib/http.ts\");\n/* harmony import */ var _lib_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/query */ \"(rsc)/./lib/query.ts\");\n/* harmony import */ var _lib_rdc_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/rdc-data */ \"(rsc)/./lib/rdc-data.ts\");\n\n\n\n\nasync function GET(request, context) {\n    const { entity_category: categoryParam, entity_id: entityId } = context.params;\n    if (!categoryParam) {\n        return (0,_lib_http__WEBPACK_IMPORTED_MODULE_1__.validationError)(\"缺少路径参数 entity_category\", [\n            \"entity_category\"\n        ]);\n    }\n    if (!entityId) {\n        return (0,_lib_http__WEBPACK_IMPORTED_MODULE_1__.validationError)(\"缺少路径参数 entity_id\", [\n            \"entity_id\"\n        ]);\n    }\n    if (!(0,_lib_rdc_data__WEBPACK_IMPORTED_MODULE_3__.validateEntityCategory)(categoryParam)) {\n        return (0,_lib_http__WEBPACK_IMPORTED_MODULE_1__.validationError)(`entity_category 不支持 ${categoryParam}`, [\n            \"entity_category\"\n        ]);\n    }\n    const includeActivity = (0,_lib_query__WEBPACK_IMPORTED_MODULE_2__.parseBooleanParam)(new URL(request.url).searchParams.get(\"include_activity\"), true);\n    try {\n        const detail = await (0,_lib_rdc_data__WEBPACK_IMPORTED_MODULE_3__.getChemicalDetail)(categoryParam, entityId, {\n            includeActivity\n        });\n        if (!detail) {\n            return (0,_lib_http__WEBPACK_IMPORTED_MODULE_1__.notFound)(`未找到化学实体 ${entityId}`);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(detail);\n    } catch (error) {\n        console.error(\"获取化学实体详情失败:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: {\n                code: \"SERVER_ERROR\",\n                message: \"获取化学实体详情失败\",\n                details: []\n            }\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoZW1pY2FsL1tlbnRpdHlfY2F0ZWdvcnldL1tlbnRpdHlfaWRdL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBRUQ7QUFDUDtBQUt4QjtBQUVqQixlQUFlTSxJQUNwQkMsT0FBb0IsRUFDcEJDLE9BQW1FO0lBRW5FLE1BQU0sRUFBRUMsaUJBQWlCQyxhQUFhLEVBQUVDLFdBQVdDLFFBQVEsRUFBRSxHQUFHSixRQUFRSyxNQUFNO0lBQzlFLElBQUksQ0FBQ0gsZUFBZTtRQUNsQixPQUFPUiwwREFBZUEsQ0FBQywwQkFBMEI7WUFBQztTQUFrQjtJQUN0RTtJQUNBLElBQUksQ0FBQ1UsVUFBVTtRQUNiLE9BQU9WLDBEQUFlQSxDQUFDLG9CQUFvQjtZQUFDO1NBQVk7SUFDMUQ7SUFFQSxJQUFJLENBQUNHLHFFQUFzQkEsQ0FBQ0ssZ0JBQWdCO1FBQzFDLE9BQU9SLDBEQUFlQSxDQUFDLENBQUMsb0JBQW9CLEVBQUVRLGNBQWMsQ0FBQyxFQUFFO1lBQUM7U0FBa0I7SUFDcEY7SUFFQSxNQUFNSSxrQkFBa0JYLDZEQUFpQkEsQ0FDdkMsSUFBSVksSUFBSVIsUUFBUVMsR0FBRyxFQUFFQyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxxQkFDdEM7SUFHRixJQUFJO1FBQ0YsTUFBTUMsU0FBUyxNQUFNZixnRUFBaUJBLENBQUNNLGVBQWlDRSxVQUFVO1lBQ2hGRTtRQUNGO1FBRUEsSUFBSSxDQUFDSyxRQUFRO1lBQ1gsT0FBT2xCLG1EQUFRQSxDQUFDLENBQUMsUUFBUSxFQUFFVyxTQUFTLENBQUM7UUFDdkM7UUFFQSxPQUFPWixxREFBWUEsQ0FBQ29CLElBQUksQ0FBQ0Q7SUFDM0IsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxlQUFlQTtRQUM3QixPQUFPckIscURBQVlBLENBQUNvQixJQUFJLENBQ3RCO1lBQ0VDLE9BQU87Z0JBQ0xFLE1BQU07Z0JBQ05DLFNBQVM7Z0JBQ1RDLFNBQVMsRUFBRTtZQUNiO1FBQ0YsR0FDQTtZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JkYy1hcGkvLi9hcHAvYXBpL2NoZW1pY2FsL1tlbnRpdHlfY2F0ZWdvcnldL1tlbnRpdHlfaWRdL3JvdXRlLnRzPzk4MzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5pbXBvcnQgeyBub3RGb3VuZCwgdmFsaWRhdGlvbkVycm9yIH0gZnJvbSBcIkAvbGliL2h0dHBcIjtcbmltcG9ydCB7IHBhcnNlQm9vbGVhblBhcmFtIH0gZnJvbSBcIkAvbGliL3F1ZXJ5XCI7XG5pbXBvcnQge1xuICB0eXBlIEVudGl0eUNhdGVnb3J5LFxuICBnZXRDaGVtaWNhbERldGFpbCxcbiAgdmFsaWRhdGVFbnRpdHlDYXRlZ29yeSxcbn0gZnJvbSBcIkAvbGliL3JkYy1kYXRhXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICBjb250ZXh0OiB7IHBhcmFtczogeyBlbnRpdHlfY2F0ZWdvcnk6IHN0cmluZzsgZW50aXR5X2lkOiBzdHJpbmcgfSB9XG4pIHtcbiAgY29uc3QgeyBlbnRpdHlfY2F0ZWdvcnk6IGNhdGVnb3J5UGFyYW0sIGVudGl0eV9pZDogZW50aXR5SWQgfSA9IGNvbnRleHQucGFyYW1zO1xuICBpZiAoIWNhdGVnb3J5UGFyYW0pIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbkVycm9yKFwi57y65bCR6Lev5b6E5Y+C5pWwIGVudGl0eV9jYXRlZ29yeVwiLCBbXCJlbnRpdHlfY2F0ZWdvcnlcIl0pO1xuICB9XG4gIGlmICghZW50aXR5SWQpIHtcbiAgICByZXR1cm4gdmFsaWRhdGlvbkVycm9yKFwi57y65bCR6Lev5b6E5Y+C5pWwIGVudGl0eV9pZFwiLCBbXCJlbnRpdHlfaWRcIl0pO1xuICB9XG5cbiAgaWYgKCF2YWxpZGF0ZUVudGl0eUNhdGVnb3J5KGNhdGVnb3J5UGFyYW0pKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25FcnJvcihgZW50aXR5X2NhdGVnb3J5IOS4jeaUr+aMgSAke2NhdGVnb3J5UGFyYW19YCwgW1wiZW50aXR5X2NhdGVnb3J5XCJdKTtcbiAgfVxuXG4gIGNvbnN0IGluY2x1ZGVBY3Rpdml0eSA9IHBhcnNlQm9vbGVhblBhcmFtKFxuICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLnNlYXJjaFBhcmFtcy5nZXQoXCJpbmNsdWRlX2FjdGl2aXR5XCIpLFxuICAgIHRydWVcbiAgKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGRldGFpbCA9IGF3YWl0IGdldENoZW1pY2FsRGV0YWlsKGNhdGVnb3J5UGFyYW0gYXMgRW50aXR5Q2F0ZWdvcnksIGVudGl0eUlkLCB7XG4gICAgICBpbmNsdWRlQWN0aXZpdHksXG4gICAgfSk7XG5cbiAgICBpZiAoIWRldGFpbCkge1xuICAgICAgcmV0dXJuIG5vdEZvdW5kKGDmnKrmib7liLDljJblrablrp7kvZMgJHtlbnRpdHlJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGV0YWlsKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwi6I635Y+W5YyW5a2m5a6e5L2T6K+m5oOF5aSx6LSlOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6IFwiU0VSVkVSX0VSUk9SXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCLojrflj5bljJblrablrp7kvZPor6bmg4XlpLHotKVcIixcbiAgICAgICAgICBkZXRhaWxzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwibm90Rm91bmQiLCJ2YWxpZGF0aW9uRXJyb3IiLCJwYXJzZUJvb2xlYW5QYXJhbSIsImdldENoZW1pY2FsRGV0YWlsIiwidmFsaWRhdGVFbnRpdHlDYXRlZ29yeSIsIkdFVCIsInJlcXVlc3QiLCJjb250ZXh0IiwiZW50aXR5X2NhdGVnb3J5IiwiY2F0ZWdvcnlQYXJhbSIsImVudGl0eV9pZCIsImVudGl0eUlkIiwicGFyYW1zIiwiaW5jbHVkZUFjdGl2aXR5IiwiVVJMIiwidXJsIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwiZGV0YWlsIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImNvZGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chemical/[entity_category]/[entity_id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPool: () => (/* binding */ getPool),\n/* harmony export */   withConnection: () => (/* binding */ withConnection)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n\nlet pool = null;\nfunction createPool() {\n    const config = {\n        host: process.env.DB_HOST ?? \"127.0.0.1\",\n        port: process.env.DB_PORT ? Number(process.env.DB_PORT) : 3306,\n        user: process.env.DB_USER ?? \"root\",\n        password: process.env.DB_PASS ?? \"\",\n        database: process.env.DB_NAME ?? \"rdcdb\",\n        waitForConnections: true,\n        connectionLimit: 10,\n        namedPlaceholders: true\n    };\n    return mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool(config);\n}\nfunction getPool() {\n    if (!pool) {\n        pool = createPool();\n    }\n    return pool;\n}\nasync function withConnection(fn) {\n    const instance = getPool();\n    return fn(instance);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBEO0FBRTFELElBQUlDLE9BQW9CO0FBRXhCLFNBQVNDO0lBQ1AsTUFBTUMsU0FBc0I7UUFDMUJDLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsT0FBTyxJQUFJO1FBQzdCQyxNQUFNSCxRQUFRQyxHQUFHLENBQUNHLE9BQU8sR0FBR0MsT0FBT0wsUUFBUUMsR0FBRyxDQUFDRyxPQUFPLElBQUk7UUFDMURFLE1BQU1OLFFBQVFDLEdBQUcsQ0FBQ00sT0FBTyxJQUFJO1FBQzdCQyxVQUFVUixRQUFRQyxHQUFHLENBQUNRLE9BQU8sSUFBSTtRQUNqQ0MsVUFBVVYsUUFBUUMsR0FBRyxDQUFDVSxPQUFPLElBQUk7UUFDakNDLG9CQUFvQjtRQUNwQkMsaUJBQWlCO1FBQ2pCQyxtQkFBbUI7SUFDckI7SUFFQSxPQUFPbkIsc0RBQWdCLENBQUNHO0FBQzFCO0FBRU8sU0FBU2lCO0lBQ2QsSUFBSSxDQUFDbkIsTUFBTTtRQUNUQSxPQUFPQztJQUNUO0lBQ0EsT0FBT0Q7QUFDVDtBQUVPLGVBQWVvQixlQUFrQkMsRUFBOEI7SUFDcEUsTUFBTUMsV0FBV0g7SUFDakIsT0FBT0UsR0FBR0M7QUFDWiIsInNvdXJjZXMiOlsid2VicGFjazovL3JkYy1hcGkvLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwsIHsgUG9vbCwgUG9vbE9wdGlvbnMgfSBmcm9tIFwibXlzcWwyL3Byb21pc2VcIjtcblxubGV0IHBvb2w6IFBvb2wgfCBudWxsID0gbnVsbDtcblxuZnVuY3Rpb24gY3JlYXRlUG9vbCgpIHtcbiAgY29uc3QgY29uZmlnOiBQb29sT3B0aW9ucyA9IHtcbiAgICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NUID8/IFwiMTI3LjAuMC4xXCIsXG4gICAgcG9ydDogcHJvY2Vzcy5lbnYuREJfUE9SVCA/IE51bWJlcihwcm9jZXNzLmVudi5EQl9QT1JUKSA6IDMzMDYsXG4gICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiA/PyBcInJvb3RcIixcbiAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTUyA/PyBcIlwiLFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FID8/IFwicmRjZGJcIixcbiAgICB3YWl0Rm9yQ29ubmVjdGlvbnM6IHRydWUsXG4gICAgY29ubmVjdGlvbkxpbWl0OiAxMCxcbiAgICBuYW1lZFBsYWNlaG9sZGVyczogdHJ1ZSxcbiAgfTtcblxuICByZXR1cm4gbXlzcWwuY3JlYXRlUG9vbChjb25maWcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9vbCgpOiBQb29sIHtcbiAgaWYgKCFwb29sKSB7XG4gICAgcG9vbCA9IGNyZWF0ZVBvb2woKTtcbiAgfVxuICByZXR1cm4gcG9vbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdpdGhDb25uZWN0aW9uPFQ+KGZuOiAoY29ubjogUG9vbCkgPT4gUHJvbWlzZTxUPikge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldFBvb2woKTtcbiAgcmV0dXJuIGZuKGluc3RhbmNlKTtcbn1cclxuIl0sIm5hbWVzIjpbIm15c3FsIiwicG9vbCIsImNyZWF0ZVBvb2wiLCJjb25maWciLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkRCX0hPU1QiLCJwb3J0IiwiREJfUE9SVCIsIk51bWJlciIsInVzZXIiLCJEQl9VU0VSIiwicGFzc3dvcmQiLCJEQl9QQVNTIiwiZGF0YWJhc2UiLCJEQl9OQU1FIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwibmFtZWRQbGFjZWhvbGRlcnMiLCJnZXRQb29sIiwid2l0aENvbm5lY3Rpb24iLCJmbiIsImluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/http.ts":
/*!*********************!*\
  !*** ./lib/http.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   errorResponse: () => (/* binding */ errorResponse),\n/* harmony export */   notFound: () => (/* binding */ notFound),\n/* harmony export */   serverError: () => (/* binding */ serverError),\n/* harmony export */   validationError: () => (/* binding */ validationError)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nfunction errorResponse({ code, message, status, details = [] }) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: {\n            code,\n            message,\n            details\n        }\n    }, {\n        status\n    });\n}\nfunction validationError(message, details = []) {\n    return errorResponse({\n        code: \"VALIDATION_ERROR\",\n        message,\n        status: 422,\n        details\n    });\n}\nfunction notFound(message) {\n    return errorResponse({\n        code: \"NOT_FOUND\",\n        message,\n        status: 404\n    });\n}\nfunction serverError(message) {\n    return errorResponse({\n        code: \"SERVER_ERROR\",\n        message,\n        status: 500\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvaHR0cC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyQztBQVNwQyxTQUFTQyxjQUFjLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsRUFBRSxFQUFnQjtJQUNqRixPQUFPTCxxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtRQUNFQyxPQUFPO1lBQ0xMO1lBQ0FDO1lBQ0FFO1FBQ0Y7SUFDRixHQUNBO1FBQUVEO0lBQU87QUFFYjtBQUVPLFNBQVNJLGdCQUFnQkwsT0FBZSxFQUFFRSxVQUFxQixFQUFFO0lBQ3RFLE9BQU9KLGNBQWM7UUFDbkJDLE1BQU07UUFDTkM7UUFDQUMsUUFBUTtRQUNSQztJQUNGO0FBQ0Y7QUFFTyxTQUFTSSxTQUFTTixPQUFlO0lBQ3RDLE9BQU9GLGNBQWM7UUFDbkJDLE1BQU07UUFDTkM7UUFDQUMsUUFBUTtJQUNWO0FBQ0Y7QUFFTyxTQUFTTSxZQUFZUCxPQUFlO0lBQ3pDLE9BQU9GLGNBQWM7UUFDbkJDLE1BQU07UUFDTkM7UUFDQUMsUUFBUTtJQUNWO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZGMtYXBpLy4vbGliL2h0dHAudHM/ZTQ0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcblxuaW50ZXJmYWNlIEVycm9yT3B0aW9ucyB7XG4gIGNvZGU6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzdGF0dXM6IG51bWJlcjtcbiAgZGV0YWlscz86IHVua25vd25bXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUmVzcG9uc2UoeyBjb2RlLCBtZXNzYWdlLCBzdGF0dXMsIGRldGFpbHMgPSBbXSB9OiBFcnJvck9wdGlvbnMpIHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgIHtcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGRldGFpbHMsXG4gICAgICB9LFxuICAgIH0sXG4gICAgeyBzdGF0dXMgfVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlsczogdW5rbm93bltdID0gW10pIHtcbiAgcmV0dXJuIGVycm9yUmVzcG9uc2Uoe1xuICAgIGNvZGU6IFwiVkFMSURBVElPTl9FUlJPUlwiLFxuICAgIG1lc3NhZ2UsXG4gICAgc3RhdHVzOiA0MjIsXG4gICAgZGV0YWlscyxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RGb3VuZChtZXNzYWdlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGVycm9yUmVzcG9uc2Uoe1xuICAgIGNvZGU6IFwiTk9UX0ZPVU5EXCIsXG4gICAgbWVzc2FnZSxcbiAgICBzdGF0dXM6IDQwNCxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJFcnJvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGVycm9yUmVzcG9uc2Uoe1xuICAgIGNvZGU6IFwiU0VSVkVSX0VSUk9SXCIsXG4gICAgbWVzc2FnZSxcbiAgICBzdGF0dXM6IDUwMCxcbiAgfSk7XG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJlcnJvclJlc3BvbnNlIiwiY29kZSIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJkZXRhaWxzIiwianNvbiIsImVycm9yIiwidmFsaWRhdGlvbkVycm9yIiwibm90Rm91bmQiLCJzZXJ2ZXJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/http.ts\n");

/***/ }),

/***/ "(rsc)/./lib/query.ts":
/*!**********************!*\
  !*** ./lib/query.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseBooleanParam: () => (/* binding */ parseBooleanParam),\n/* harmony export */   parseExpandParam: () => (/* binding */ parseExpandParam),\n/* harmony export */   parseIntParam: () => (/* binding */ parseIntParam)\n/* harmony export */ });\nfunction parseIntParam(value, defaultValue, { min, max } = {}) {\n    if (value === null || value.trim() === \"\") {\n        return defaultValue;\n    }\n    const parsed = Number.parseInt(value, 10);\n    if (Number.isNaN(parsed)) {\n        return defaultValue;\n    }\n    if (typeof min === \"number\" && parsed < min) {\n        return min;\n    }\n    if (typeof max === \"number\" && parsed > max) {\n        return max;\n    }\n    return parsed;\n}\nfunction parseBooleanParam(value, defaultValue) {\n    if (value === null || value.trim() === \"\") {\n        return defaultValue;\n    }\n    const normalized = value.trim().toLowerCase();\n    if ([\n        \"true\",\n        \"1\",\n        \"yes\",\n        \"y\"\n    ].includes(normalized)) {\n        return true;\n    }\n    if ([\n        \"false\",\n        \"0\",\n        \"no\",\n        \"n\"\n    ].includes(normalized)) {\n        return false;\n    }\n    return defaultValue;\n}\nfunction parseExpandParam(value) {\n    if (!value) return new Set();\n    const parts = value.split(\",\").map((part)=>part.trim()).filter(Boolean);\n    return new Set(parts);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcXVlcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sU0FBU0EsY0FDZEMsS0FBb0IsRUFDcEJDLFlBQW9CLEVBQ3BCLEVBQUVDLEdBQUcsRUFBRUMsR0FBRyxFQUFrQyxHQUFHLENBQUMsQ0FBQztJQUVqRCxJQUFJSCxVQUFVLFFBQVFBLE1BQU1JLElBQUksT0FBTyxJQUFJO1FBQ3pDLE9BQU9IO0lBQ1Q7SUFDQSxNQUFNSSxTQUFTQyxPQUFPQyxRQUFRLENBQUNQLE9BQU87SUFDdEMsSUFBSU0sT0FBT0UsS0FBSyxDQUFDSCxTQUFTO1FBQ3hCLE9BQU9KO0lBQ1Q7SUFDQSxJQUFJLE9BQU9DLFFBQVEsWUFBWUcsU0FBU0gsS0FBSztRQUMzQyxPQUFPQTtJQUNUO0lBQ0EsSUFBSSxPQUFPQyxRQUFRLFlBQVlFLFNBQVNGLEtBQUs7UUFDM0MsT0FBT0E7SUFDVDtJQUNBLE9BQU9FO0FBQ1Q7QUFFTyxTQUFTSSxrQkFBa0JULEtBQW9CLEVBQUVDLFlBQXFCO0lBQzNFLElBQUlELFVBQVUsUUFBUUEsTUFBTUksSUFBSSxPQUFPLElBQUk7UUFDekMsT0FBT0g7SUFDVDtJQUNBLE1BQU1TLGFBQWFWLE1BQU1JLElBQUksR0FBR08sV0FBVztJQUMzQyxJQUFJO1FBQUM7UUFBUTtRQUFLO1FBQU87S0FBSSxDQUFDQyxRQUFRLENBQUNGLGFBQWE7UUFDbEQsT0FBTztJQUNUO0lBQ0EsSUFBSTtRQUFDO1FBQVM7UUFBSztRQUFNO0tBQUksQ0FBQ0UsUUFBUSxDQUFDRixhQUFhO1FBQ2xELE9BQU87SUFDVDtJQUNBLE9BQU9UO0FBQ1Q7QUFFTyxTQUFTWSxpQkFBaUJiLEtBQW9CO0lBQ25ELElBQUksQ0FBQ0EsT0FBTyxPQUFPLElBQUljO0lBQ3ZCLE1BQU1DLFFBQVFmLE1BQ1hnQixLQUFLLENBQUMsS0FDTkMsR0FBRyxDQUFDLENBQUNDLE9BQVNBLEtBQUtkLElBQUksSUFDdkJlLE1BQU0sQ0FBQ0M7SUFDVixPQUFPLElBQUlOLElBQUlDO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmRjLWFwaS8uL2xpYi9xdWVyeS50cz83YjY1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBwYXJzZUludFBhcmFtKFxuICB2YWx1ZTogc3RyaW5nIHwgbnVsbCxcbiAgZGVmYXVsdFZhbHVlOiBudW1iZXIsXG4gIHsgbWluLCBtYXggfTogeyBtaW4/OiBudW1iZXI7IG1heD86IG51bWJlciB9ID0ge31cbikge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxuICBjb25zdCBwYXJzZWQgPSBOdW1iZXIucGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgaWYgKE51bWJlci5pc05hTihwYXJzZWQpKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxuICBpZiAodHlwZW9mIG1pbiA9PT0gXCJudW1iZXJcIiAmJiBwYXJzZWQgPCBtaW4pIHtcbiAgICByZXR1cm4gbWluO1xuICB9XG4gIGlmICh0eXBlb2YgbWF4ID09PSBcIm51bWJlclwiICYmIHBhcnNlZCA+IG1heCkge1xuICAgIHJldHVybiBtYXg7XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhblBhcmFtKHZhbHVlOiBzdHJpbmcgfCBudWxsLCBkZWZhdWx0VmFsdWU6IGJvb2xlYW4pIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoW1widHJ1ZVwiLCBcIjFcIiwgXCJ5ZXNcIiwgXCJ5XCJdLmluY2x1ZGVzKG5vcm1hbGl6ZWQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKFtcImZhbHNlXCIsIFwiMFwiLCBcIm5vXCIsIFwiblwiXS5pbmNsdWRlcyhub3JtYWxpemVkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFeHBhbmRQYXJhbSh2YWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGNvbnN0IHBhcnRzID0gdmFsdWVcbiAgICAuc3BsaXQoXCIsXCIpXG4gICAgLm1hcCgocGFydCkgPT4gcGFydC50cmltKCkpXG4gICAgLmZpbHRlcihCb29sZWFuKTtcbiAgcmV0dXJuIG5ldyBTZXQocGFydHMpO1xufVxyXG4iXSwibmFtZXMiOlsicGFyc2VJbnRQYXJhbSIsInZhbHVlIiwiZGVmYXVsdFZhbHVlIiwibWluIiwibWF4IiwidHJpbSIsInBhcnNlZCIsIk51bWJlciIsInBhcnNlSW50IiwiaXNOYU4iLCJwYXJzZUJvb2xlYW5QYXJhbSIsIm5vcm1hbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicGFyc2VFeHBhbmRQYXJhbSIsIlNldCIsInBhcnRzIiwic3BsaXQiLCJtYXAiLCJwYXJ0IiwiZmlsdGVyIiwiQm9vbGVhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/query.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rdc-data.ts":
/*!*************************!*\
  !*** ./lib/rdc-data.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findDrugByName: () => (/* binding */ findDrugByName),\n/* harmony export */   getChemicalDetail: () => (/* binding */ getChemicalDetail),\n/* harmony export */   getDrugDetail: () => (/* binding */ getDrugDetail),\n/* harmony export */   listByStatus: () => (/* binding */ listByStatus),\n/* harmony export */   listDrugs: () => (/* binding */ listDrugs),\n/* harmony export */   listStatusDict: () => (/* binding */ listStatusDict),\n/* harmony export */   searchDrugs: () => (/* binding */ searchDrugs),\n/* harmony export */   validateEntityCategory: () => (/* binding */ validateEntityCategory)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\n\nconst ENTITY_CATEGORIES = [\n    \"compound\",\n    \"ligand\",\n    \"linker\",\n    \"chelator\",\n    \"radionuclide\"\n];\nfunction toNumber(value) {\n    if (value === null || value === undefined) {\n        return null;\n    }\n    const num = Number(value);\n    return Number.isNaN(num) ? null : num;\n}\nfunction toDateTime(value) {\n    if (value === null || value === undefined) {\n        return null;\n    }\n    if (value instanceof Date) {\n        return value.toISOString();\n    }\n    const date = new Date(String(value));\n    return Number.isNaN(date.getTime()) ? null : date.toISOString();\n}\nfunction normalizeSort(sort) {\n    switch(sort){\n        case \"drug_name:asc\":\n            return \"d.drug_name ASC\";\n        case \"drug_name:desc\":\n            return \"d.drug_name DESC\";\n        case \"created_at:asc\":\n            return \"d.created_at ASC\";\n        case \"created_at:desc\":\n        default:\n            return \"d.created_at DESC\";\n    }\n}\nasync function listStatusDict() {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const [rows] = await pool.query(\"SELECT DISTINCT status FROM rdc_drug WHERE status IS NOT NULL AND status <> '' ORDER BY status\");\n    return rows.map((row)=>row.status).filter((status)=>typeof status === \"string\" && status.trim().length > 0).map((value)=>({\n            value,\n            label: value\n        }));\n}\nasync function searchDrugs({ q, limit = 20 }) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const query = `%${q.trim()}%`;\n    const safeLimit = Math.min(Math.max(limit, 1), 100);\n    const [rows] = await pool.query(`SELECT drug_id, drug_name, status FROM rdc_drug\r\n     WHERE drug_name LIKE ?\r\n     ORDER BY drug_name ASC\r\n     LIMIT ?`, [\n        query,\n        safeLimit\n    ]);\n    return rows.map((row)=>({\n            drug_id: row.drug_id,\n            drug_name: row.drug_name,\n            status: row.status ?? null\n        }));\n}\nasync function listDrugs(params) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const { page, pageSize, q, status, sort } = params;\n    const filters = [];\n    const filterParams = [];\n    if (q && q.trim()) {\n        filters.push(\"d.drug_name LIKE ?\");\n        filterParams.push(`%${q.trim()}%`);\n    }\n    if (status && status.trim()) {\n        filters.push(\"d.status = ?\");\n        filterParams.push(status.trim());\n    }\n    const whereClause = filters.length ? `WHERE ${filters.join(\" AND \")}` : \"\";\n    const orderClause = normalizeSort(sort);\n    const safePage = Math.max(page, 1);\n    const safePageSize = Math.min(Math.max(pageSize, 1), 100);\n    const offset = (safePage - 1) * safePageSize;\n    const [items] = await pool.query(`SELECT\r\n       d.drug_id,\r\n       d.drug_name,\r\n       d.status,\r\n       d.type,\r\n       MAX(CASE WHEN dcr.relation_role = 'compound' THEN ce.name END) AS cold_compound_name,\r\n       MAX(CASE WHEN dcr.relation_role = 'ligand' THEN ce.name END) AS ligand_name,\r\n       MAX(CASE WHEN dcr.relation_role = 'linker' THEN ce.name END) AS linker_name,\r\n       MAX(CASE WHEN dcr.relation_role = 'chelator' THEN ce.name END) AS chelator_name,\r\n       MAX(CASE WHEN dcr.relation_role = 'radionuclide' THEN ce.name END) AS radionuclide_name,\r\n       d.created_at\r\n     FROM rdc_drug d\r\n     LEFT JOIN drug_chemical_rel dcr ON d.drug_id = dcr.drug_id\r\n     LEFT JOIN chemical_entity ce ON ce.entity_id = dcr.chemical_entity_id\r\n     ${whereClause}\r\n     GROUP BY d.drug_id, d.drug_name, d.status, d.type, d.created_at\r\n     ORDER BY ${orderClause}\r\n     LIMIT ? OFFSET ?`, [\n        ...filterParams,\n        safePageSize,\n        offset\n    ]);\n    const [totalRows] = await pool.query(`SELECT COUNT(*) AS total FROM rdc_drug d ${whereClause}`, filterParams);\n    const total = Number(totalRows[0]?.total ?? 0);\n    return {\n        items: items.map((row)=>({\n                drug_id: row.drug_id,\n                drug_name: row.drug_name,\n                status: row.status ?? null,\n                type: row.type ?? null,\n                cold_compound_name: row.cold_compound_name ?? null,\n                ligand_name: row.ligand_name ?? null,\n                linker_name: row.linker_name ?? null,\n                chelator_name: row.chelator_name ?? null,\n                radionuclide_name: row.radionuclide_name ?? null,\n                created_at: toDateTime(row.created_at)\n            })),\n        page: safePage,\n        page_size: safePageSize,\n        total\n    };\n}\nasync function listByStatus({ status, limit = 50 }) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const safeLimit = Math.min(Math.max(limit, 1), 200);\n    const [rows] = await pool.query(`SELECT drug_id, drug_name, status\r\n     FROM rdc_drug\r\n     WHERE status = ?\r\n     ORDER BY drug_name ASC\r\n     LIMIT ?`, [\n        status.trim(),\n        safeLimit\n    ]);\n    return rows.map((row)=>({\n            drug_id: row.drug_id,\n            drug_name: row.drug_name,\n            status: row.status ?? null\n        }));\n}\nasync function findDrugByName(drugName) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const [rows] = await pool.query(`SELECT\r\n       drug_id,\r\n       external_id,\r\n       drug_name,\r\n       drug_synonyms,\r\n       status,\r\n       type,\r\n       smiles,\r\n       structure_image,\r\n       chebi_id,\r\n       pubchem_cid,\r\n       pubchem_sid,\r\n       updated_at\r\n     FROM rdc_drug\r\n     WHERE drug_name = ?\r\n     LIMIT 1`, [\n        drugName.trim()\n    ]);\n    if (rows.length === 0) {\n        return undefined;\n    }\n    const row = rows[0];\n    return {\n        drug_id: row.drug_id,\n        external_id: row.external_id ?? null,\n        drug_name: row.drug_name,\n        drug_synonyms: row.drug_synonyms ?? null,\n        status: row.status ?? null,\n        type: row.type ?? null,\n        smiles: row.smiles ?? null,\n        structure_image: row.structure_image ?? null,\n        chebi_id: row.chebi_id ?? null,\n        pubchem_cid: row.pubchem_cid ?? null,\n        pubchem_sid: row.pubchem_sid ?? null,\n        updated_at: toDateTime(row.updated_at)\n    };\n}\nasync function getDrugDetail(drugId, options = {}) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const [rows] = await pool.query(`SELECT\r\n       drug_id,\r\n       external_id,\r\n       drug_name,\r\n       drug_synonyms,\r\n       status,\r\n       type,\r\n       smiles,\r\n       structure_image,\r\n       chebi_id,\r\n       pubchem_cid,\r\n       pubchem_sid,\r\n       created_at,\r\n       updated_at\r\n     FROM rdc_drug\r\n     WHERE drug_id = ?\r\n     LIMIT 1`, [\n        drugId\n    ]);\n    if (rows.length === 0) {\n        return undefined;\n    }\n    const row = rows[0];\n    const expand = options.expand ?? new Set();\n    const allEntities = options.allEntities ?? false;\n    const detail = {\n        general: {\n            drug_id: row.drug_id,\n            external_id: row.external_id ?? null,\n            drug_name: row.drug_name,\n            drug_synonyms: row.drug_synonyms ?? null,\n            status: row.status ?? null,\n            type: row.type ?? null,\n            smiles: row.smiles ?? null,\n            structure_image: row.structure_image ?? null,\n            chebi_id: row.chebi_id ?? null,\n            pubchem_cid: row.pubchem_cid ?? null,\n            pubchem_sid: row.pubchem_sid ?? null,\n            created_at: toDateTime(row.created_at),\n            updated_at: toDateTime(row.updated_at)\n        }\n    };\n    detail.chemicals = await buildChemicalBlock(drugId, allEntities);\n    if (expand.has(\"human_activity\")) {\n        detail.human_activity = await fetchHumanActivity(drugId);\n    }\n    if (expand.has(\"animal_in_vivo\")) {\n        detail.animal_in_vivo = await fetchAnimalInVivo(drugId);\n    }\n    if (expand.has(\"in_vitro\")) {\n        detail.in_vitro = await fetchInVitro(drugId);\n    }\n    return detail;\n}\nasync function buildChemicalBlock(drugId, allEntities) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const [rows] = await pool.query(`SELECT dcr.relation_role, dcr.chemical_entity_id, ce.name\r\n     FROM drug_chemical_rel dcr\r\n     JOIN chemical_entity ce ON ce.entity_id = dcr.chemical_entity_id\r\n     WHERE dcr.drug_id = ?\r\n     ORDER BY dcr.relation_role, ce.name`, [\n        drugId\n    ]);\n    const summary = {\n        compound: null,\n        ligand: null,\n        linker: null,\n        chelator: null,\n        radionuclide: null\n    };\n    const grouped = {\n        compound: [],\n        ligand: [],\n        linker: [],\n        chelator: [],\n        radionuclide: []\n    };\n    for (const row of rows){\n        const category = String(row.relation_role ?? \"\").toLowerCase();\n        if (!ENTITY_CATEGORIES.includes(category)) {\n            continue;\n        }\n        if (!summary[category]) {\n            summary[category] = row.name ?? null;\n        }\n        grouped[category].push({\n            entity_id: row.chemical_entity_id,\n            name: row.name ?? \"\",\n            relation_role: row.relation_role\n        });\n    }\n    const block = {\n        compound_name: summary.compound,\n        ligand_name: summary.ligand,\n        linker_name: summary.linker,\n        chelator_name: summary.chelator,\n        radionuclide_name: summary.radionuclide\n    };\n    if (allEntities) {\n        block.entities = grouped;\n    }\n    return block;\n}\nasync function fetchHumanActivity(drugId) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const [rows] = await pool.query(`SELECT clinical_trial_number, indication, patients, dosage, frequency,\r\n            results_description, purpose, clinical_endpoint, endpoint_period,\r\n            efficacy_description, adverse_events_summary, security_indicators\r\n     FROM human_activity\r\n     WHERE drug_id = ?\r\n     ORDER BY created_at ASC, id ASC`, [\n        drugId\n    ]);\n    return rows.map((row)=>({\n            clinical_trial_number: row.clinical_trial_number ?? null,\n            indication: row.indication ?? null,\n            patients: row.patients ?? null,\n            dosage: row.dosage ?? null,\n            frequency: row.frequency ?? null,\n            results_description: row.results_description ?? null,\n            purpose: row.purpose ?? null,\n            clinical_endpoint: row.clinical_endpoint ?? null,\n            endpoint_period: row.endpoint_period ?? null,\n            efficacy_description: row.efficacy_description ?? null,\n            adverse_events_summary: row.adverse_events_summary ?? null,\n            security_indicators: row.security_indicators ?? null\n        }));\n}\nasync function fetchAnimalInVivo(drugId) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const [studies] = await pool.query(`SELECT study_id, pmid, doi\r\n     FROM animal_in_vivo_study\r\n     WHERE drug_id = ?\r\n     ORDER BY created_at ASC, id ASC`, [\n        drugId\n    ]);\n    if (studies.length === 0) {\n        return {\n            studies: []\n        };\n    }\n    const studyIds = studies.map((row)=>row.study_id);\n    const placeholders = studyIds.map(()=>\"?\").join(\",\");\n    const [pkRows] = await pool.query(`SELECT * FROM animal_in_vivo_pk WHERE study_ref_id IN (${placeholders}) ORDER BY id ASC`, studyIds);\n    const [biodistRows] = await pool.query(`SELECT * FROM animal_in_vivo_biodist WHERE study_ref_id IN (${placeholders}) ORDER BY id ASC`, studyIds);\n    const [efficacyRows] = await pool.query(`SELECT * FROM animal_in_vivo_efficacy WHERE study_ref_id IN (${placeholders}) ORDER BY id ASC`, studyIds);\n    const pkByStudy = groupBy(pkRows, (row)=>row.study_ref_id);\n    const biodistByStudy = groupBy(biodistRows, (row)=>row.study_ref_id);\n    const efficacyByStudy = groupBy(efficacyRows, (row)=>row.study_ref_id);\n    const mapped = studies.map((study)=>{\n        const studyId = study.study_id;\n        return {\n            study_id: studyId,\n            pmid: study.pmid ?? null,\n            doi: study.doi ?? null,\n            pk: (pkByStudy.get(studyId) ?? []).map(mapPk),\n            biodistribution: (biodistByStudy.get(studyId) ?? []).map(mapBiodist),\n            efficacy: (efficacyByStudy.get(studyId) ?? []).map(mapEfficacy)\n        };\n    });\n    return {\n        studies: mapped\n    };\n}\nfunction mapPk(row) {\n    return {\n        pk_animal_model: row.pk_animal_model ?? null,\n        pk_dosage_symbols: row.pk_dosage_symbols ?? null,\n        pk_dosage_value: toNumber(row.pk_dosage_value),\n        pk_dosage_unit: row.pk_dosage_unit ?? null,\n        pk_description: row.pk_description ?? null,\n        half_life: row.half_life ?? null,\n        pk_image: row.pk_image ?? null\n    };\n}\nfunction mapBiodist(row) {\n    return {\n        biodist_type: row.biodist_type ?? null,\n        animal_model: row.animal_model ?? null,\n        dosage_symbols: row.dosage_symbols ?? null,\n        dosage_value: toNumber(row.dosage_value),\n        dosage_unit: row.dosage_unit ?? null,\n        metabolism: row.metabolism ?? null,\n        excretion: row.excretion ?? null,\n        detection_time: row.detection_time ?? null,\n        tumor_retention_time: row.tumor_retention_time ?? null,\n        tbr: {\n            tumor_blood: toNumber(row.tbr_tumor_blood),\n            tumor_muscle: toNumber(row.tbr_tumor_muscle),\n            tumor_kidney: toNumber(row.tbr_tumor_kidney),\n            tumor_salivary_glands: toNumber(row.tbr_tumor_salivary_glands),\n            tumor_liver: toNumber(row.tbr_tumor_liver),\n            tumor_lung: toNumber(row.tbr_tumor_lung),\n            tumor_heart: toNumber(row.tbr_tumor_heart)\n        },\n        biodist_result_image: row.biodist_result_image ?? null,\n        biodist_description: row.biodist_description ?? null\n    };\n}\nfunction mapEfficacy(row) {\n    return {\n        efficacy_animal_model: row.efficacy_animal_model ?? null,\n        efficacy_dosage_symbols: row.efficacy_dosage_symbols ?? null,\n        efficacy_dosage_value: toNumber(row.efficacy_dosage_value),\n        efficacy_dosage_unit: row.efficacy_dosage_unit ?? null,\n        efficacy_description: row.efficacy_description ?? null,\n        adverse_reactions: row.adverse_reactions ?? null\n    };\n}\nasync function fetchInVitro(drugId) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const [studies] = await pool.query(`SELECT in_vitro_id, study_overview\r\n     FROM in_vitro\r\n     WHERE drug_id = ?\r\n     ORDER BY created_at ASC, id ASC`, [\n        drugId\n    ]);\n    if (studies.length === 0) {\n        return {\n            studies: []\n        };\n    }\n    const studyIds = studies.map((row)=>row.in_vitro_id);\n    const placeholders = studyIds.map(()=>\"?\").join(\",\");\n    const [measurements] = await pool.query(`SELECT * FROM in_vitro_measurement WHERE in_vitro_ref_id IN (${placeholders}) ORDER BY id ASC`, studyIds);\n    const measurementGroups = new Map();\n    for (const measurement of measurements){\n        const category = measurement.measurement_category ?? \"other\";\n        if (!measurementGroups.has(category)) {\n            measurementGroups.set(category, []);\n        }\n        measurementGroups.get(category).push(mapMeasurement(measurement));\n    }\n    return {\n        studies: studies.map((study)=>({\n                in_vitro_id: study.in_vitro_id,\n                study_overview: study.study_overview ?? null\n            })),\n        ...Object.fromEntries(measurementGroups.entries())\n    };\n}\nfunction mapMeasurement(row) {\n    return {\n        measurement_type: row.measurement_type ?? null,\n        measurement_symbols: row.measurement_symbols ?? null,\n        measurement_value: toNumber(row.measurement_value),\n        measurement_unit: row.measurement_unit ?? null,\n        method_description: row.method_description ?? null\n    };\n}\nfunction groupBy(rows, getter) {\n    const map = new Map();\n    for (const row of rows){\n        const key = getter(row);\n        if (!map.has(key)) {\n            map.set(key, []);\n        }\n        map.get(key).push(row);\n    }\n    return map;\n}\nfunction validateEntityCategory(value) {\n    return ENTITY_CATEGORIES.includes(value);\n}\nasync function getChemicalDetail(entityCategory, entityId, options = {}) {\n    const pool = (0,_db__WEBPACK_IMPORTED_MODULE_0__.getPool)();\n    const includeActivity = options.includeActivity ?? true;\n    // 查询化学实体基础信息\n    const [rows] = await pool.query(`SELECT\r\n       entity_category,\r\n       entity_id,\r\n       name,\r\n       synonyms,\r\n       smiles,\r\n       formula,\r\n       structure_image,\r\n       mol2d_path,\r\n       mol3d_path,\r\n       pubchem_cid,\r\n       inchi,\r\n       inchikey,\r\n       iupac_name,\r\n       molecular_weight,\r\n       complexity,\r\n       heavy_atom_count,\r\n       hbond_acceptors,\r\n       hbond_donors,\r\n       rotatable_bonds,\r\n       logp,\r\n       tpsa,\r\n       linker_type,\r\n       radionuclide_symbol,\r\n       radionuclide_half_life,\r\n       radionuclide_emission,\r\n       radionuclide_energy\r\n     FROM chemical_entity\r\n     WHERE entity_category = ? AND entity_id = ?\r\n     LIMIT 1`, [\n        entityCategory,\n        entityId\n    ]);\n    if (rows.length === 0) {\n        return undefined;\n    }\n    const row = rows[0];\n    const basic = {\n        entity_category: row.entity_category,\n        entity_id: row.entity_id,\n        name: row.name ?? null,\n        synonyms: row.synonyms ?? null,\n        smiles: row.smiles ?? null,\n        formula: row.formula ?? null,\n        structure_image: row.structure_image ?? null,\n        mol2d_path: row.mol2d_path ?? null,\n        mol3d_path: row.mol3d_path ?? null,\n        pubchem_cid: row.pubchem_cid ?? null,\n        inchi: row.inchi ?? null,\n        inchikey: row.inchikey ?? null,\n        iupac_name: row.iupac_name ?? null,\n        molecular_weight: toNumber(row.molecular_weight),\n        complexity: toNumber(row.complexity),\n        heavy_atom_count: toNumber(row.heavy_atom_count),\n        hbond_acceptors: toNumber(row.hbond_acceptors),\n        hbond_donors: toNumber(row.hbond_donors),\n        rotatable_bonds: toNumber(row.rotatable_bonds),\n        logp: toNumber(row.logp),\n        tpsa: toNumber(row.tpsa),\n        linker_type: row.linker_type ?? null,\n        radionuclide_symbol: row.radionuclide_symbol ?? null,\n        radionuclide_half_life: row.radionuclide_half_life ?? null,\n        radionuclide_emission: row.radionuclide_emission ?? null,\n        radionuclide_energy: row.radionuclide_energy ?? null\n    };\n    if (!includeActivity) {\n        return {\n            basic\n        };\n    }\n    // 查找使用该化学实体的所有药物\n    const [relatedDrugRows] = await pool.query(`SELECT DISTINCT drug_id\r\n     FROM drug_chemical_rel\r\n     WHERE chemical_entity_id = ?\r\n     ORDER BY drug_id`, [\n        entityId\n    ]);\n    const drugIds = relatedDrugRows.map((r)=>r.drug_id);\n    if (drugIds.length === 0) {\n        return {\n            basic,\n            rdc_activity: []\n        };\n    }\n    // 为每个关联的药物获取完整的活性数据\n    const rdcActivity = [];\n    for (const drugId of drugIds){\n        const detail = await getDrugDetail(drugId, {\n            expand: new Set([\n                \"chemicals\",\n                \"human_activity\",\n                \"animal_in_vivo\",\n                \"in_vitro\"\n            ]),\n            allEntities: true\n        });\n        if (detail) {\n            const general = detail.general;\n            rdcActivity.push({\n                drug_id: general.drug_id,\n                drug_name: general.drug_name,\n                status: general.status ?? null,\n                type: general.type ?? null,\n                human_activity: detail.human_activity ?? [],\n                animal_in_vivo: detail.animal_in_vivo ?? {\n                    studies: []\n                },\n                in_vitro: detail.in_vitro ?? {}\n            });\n        }\n    }\n    return {\n        basic,\n        rdc_activity: rdcActivity\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPUyxRQUFRLElBQUksQ0FBQztZQUNoQztRQUNGO0lBQ0Y7SUFFQSxPQUFPO1FBQUVxSDtRQUFPeUIsY0FBY0M7SUFBWTtBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3JkYy1hcGkvLi9saWIvcmRjLWRhdGEudHM/NmZlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3dEYXRhUGFja2V0IH0gZnJvbSBcIm15c3FsMlwiO1xyXG5cclxuaW1wb3J0IHsgZ2V0UG9vbCB9IGZyb20gXCIuL2RiXCI7XHJcbmltcG9ydCB7IHBhcnNlRXhwYW5kUGFyYW0gfSBmcm9tIFwiLi9xdWVyeVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMaXN0RHJ1Z3NQYXJhbXMge1xyXG4gIHBhZ2U6IG51bWJlcjtcclxuICBwYWdlU2l6ZTogbnVtYmVyO1xyXG4gIHE/OiBzdHJpbmc7XHJcbiAgc3RhdHVzPzogc3RyaW5nO1xyXG4gIHNvcnQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEV4cGFuZFNlZ21lbnQgPSBcImh1bWFuX2FjdGl2aXR5XCIgfCBcImFuaW1hbF9pbl92aXZvXCIgfCBcImluX3ZpdHJvXCIgfCBcImNoZW1pY2Fsc1wiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEcnVnRGV0YWlsT3B0aW9ucyB7XHJcbiAgZXhwYW5kPzogU2V0PEV4cGFuZFNlZ21lbnQ+O1xyXG4gIGFsbEVudGl0aWVzPzogYm9vbGVhbjtcclxufVxyXG5cclxuY29uc3QgRU5USVRZX0NBVEVHT1JJRVMgPSBbXCJjb21wb3VuZFwiLCBcImxpZ2FuZFwiLCBcImxpbmtlclwiLCBcImNoZWxhdG9yXCIsIFwicmFkaW9udWNsaWRlXCJdIGFzIGNvbnN0O1xyXG5cclxuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWU6IHVua25vd24pOiBudW1iZXIgfCBudWxsIHtcclxuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIGNvbnN0IG51bSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgcmV0dXJuIE51bWJlci5pc05hTihudW0pID8gbnVsbCA6IG51bTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9EYXRlVGltZSh2YWx1ZTogdW5rbm93bik6IHN0cmluZyB8IG51bGwge1xyXG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XHJcbiAgfVxyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShTdHJpbmcodmFsdWUpKTtcclxuICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSA/IG51bGwgOiBkYXRlLnRvSVNPU3RyaW5nKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVNvcnQoc29ydD86IHN0cmluZykge1xyXG4gIHN3aXRjaCAoc29ydCkge1xyXG4gICAgY2FzZSBcImRydWdfbmFtZTphc2NcIjpcclxuICAgICAgcmV0dXJuIFwiZC5kcnVnX25hbWUgQVNDXCI7XHJcbiAgICBjYXNlIFwiZHJ1Z19uYW1lOmRlc2NcIjpcclxuICAgICAgcmV0dXJuIFwiZC5kcnVnX25hbWUgREVTQ1wiO1xyXG4gICAgY2FzZSBcImNyZWF0ZWRfYXQ6YXNjXCI6XHJcbiAgICAgIHJldHVybiBcImQuY3JlYXRlZF9hdCBBU0NcIjtcclxuICAgIGNhc2UgXCJjcmVhdGVkX2F0OmRlc2NcIjpcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBcImQuY3JlYXRlZF9hdCBERVNDXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdFN0YXR1c0RpY3QoKSB7XHJcbiAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcclxuICBjb25zdCBbcm93c10gPSBhd2FpdCBwb29sLnF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBcIlNFTEVDVCBESVNUSU5DVCBzdGF0dXMgRlJPTSByZGNfZHJ1ZyBXSEVSRSBzdGF0dXMgSVMgTk9UIE5VTEwgQU5EIHN0YXR1cyA8PiAnJyBPUkRFUiBCWSBzdGF0dXNcIlxyXG4gICk7XHJcbiAgcmV0dXJuIHJvd3NcclxuICAgIC5tYXAoKHJvdykgPT4gcm93LnN0YXR1cyBhcyBzdHJpbmcgfCBudWxsKVxyXG4gICAgLmZpbHRlcigoc3RhdHVzKTogc3RhdHVzIGlzIHN0cmluZyA9PiB0eXBlb2Ygc3RhdHVzID09PSBcInN0cmluZ1wiICYmIHN0YXR1cy50cmltKCkubGVuZ3RoID4gMClcclxuICAgIC5tYXAoKHZhbHVlKSA9PiAoeyB2YWx1ZSwgbGFiZWw6IHZhbHVlIH0pKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaERydWdzKHsgcSwgbGltaXQgPSAyMCB9OiB7IHE6IHN0cmluZzsgbGltaXQ/OiBudW1iZXIgfSkge1xyXG4gIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XHJcbiAgY29uc3QgcXVlcnkgPSBgJSR7cS50cmltKCl9JWA7XHJcbiAgY29uc3Qgc2FmZUxpbWl0ID0gTWF0aC5taW4oTWF0aC5tYXgobGltaXQsIDEpLCAxMDApO1xyXG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IHBvb2wucXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgZHJ1Z19pZCwgZHJ1Z19uYW1lLCBzdGF0dXMgRlJPTSByZGNfZHJ1Z1xyXG4gICAgIFdIRVJFIGRydWdfbmFtZSBMSUtFID9cclxuICAgICBPUkRFUiBCWSBkcnVnX25hbWUgQVNDXHJcbiAgICAgTElNSVQgP2AsXHJcbiAgICBbcXVlcnksIHNhZmVMaW1pdF1cclxuICApO1xyXG5cclxuICByZXR1cm4gcm93cy5tYXAoKHJvdykgPT4gKHtcclxuICAgIGRydWdfaWQ6IHJvdy5kcnVnX2lkIGFzIHN0cmluZyxcclxuICAgIGRydWdfbmFtZTogcm93LmRydWdfbmFtZSBhcyBzdHJpbmcsXHJcbiAgICBzdGF0dXM6IChyb3cuc3RhdHVzIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICB9KSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0RHJ1Z3MocGFyYW1zOiBMaXN0RHJ1Z3NQYXJhbXMpIHtcclxuICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xyXG4gIGNvbnN0IHsgcGFnZSwgcGFnZVNpemUsIHEsIHN0YXR1cywgc29ydCB9ID0gcGFyYW1zO1xyXG4gIGNvbnN0IGZpbHRlcnM6IHN0cmluZ1tdID0gW107XHJcbiAgY29uc3QgZmlsdGVyUGFyYW1zOiB1bmtub3duW10gPSBbXTtcclxuXHJcbiAgaWYgKHEgJiYgcS50cmltKCkpIHtcclxuICAgIGZpbHRlcnMucHVzaChcImQuZHJ1Z19uYW1lIExJS0UgP1wiKTtcclxuICAgIGZpbHRlclBhcmFtcy5wdXNoKGAlJHtxLnRyaW0oKX0lYCk7XHJcbiAgfVxyXG4gIGlmIChzdGF0dXMgJiYgc3RhdHVzLnRyaW0oKSkge1xyXG4gICAgZmlsdGVycy5wdXNoKFwiZC5zdGF0dXMgPSA/XCIpO1xyXG4gICAgZmlsdGVyUGFyYW1zLnB1c2goc3RhdHVzLnRyaW0oKSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB3aGVyZUNsYXVzZSA9IGZpbHRlcnMubGVuZ3RoID8gYFdIRVJFICR7ZmlsdGVycy5qb2luKFwiIEFORCBcIil9YCA6IFwiXCI7XHJcbiAgY29uc3Qgb3JkZXJDbGF1c2UgPSBub3JtYWxpemVTb3J0KHNvcnQpO1xyXG4gIGNvbnN0IHNhZmVQYWdlID0gTWF0aC5tYXgocGFnZSwgMSk7XHJcbiAgY29uc3Qgc2FmZVBhZ2VTaXplID0gTWF0aC5taW4oTWF0aC5tYXgocGFnZVNpemUsIDEpLCAxMDApO1xyXG4gIGNvbnN0IG9mZnNldCA9IChzYWZlUGFnZSAtIDEpICogc2FmZVBhZ2VTaXplO1xyXG5cclxuICBjb25zdCBbaXRlbXNdID0gYXdhaXQgcG9vbC5xdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVFxyXG4gICAgICAgZC5kcnVnX2lkLFxyXG4gICAgICAgZC5kcnVnX25hbWUsXHJcbiAgICAgICBkLnN0YXR1cyxcclxuICAgICAgIGQudHlwZSxcclxuICAgICAgIE1BWChDQVNFIFdIRU4gZGNyLnJlbGF0aW9uX3JvbGUgPSAnY29tcG91bmQnIFRIRU4gY2UubmFtZSBFTkQpIEFTIGNvbGRfY29tcG91bmRfbmFtZSxcclxuICAgICAgIE1BWChDQVNFIFdIRU4gZGNyLnJlbGF0aW9uX3JvbGUgPSAnbGlnYW5kJyBUSEVOIGNlLm5hbWUgRU5EKSBBUyBsaWdhbmRfbmFtZSxcclxuICAgICAgIE1BWChDQVNFIFdIRU4gZGNyLnJlbGF0aW9uX3JvbGUgPSAnbGlua2VyJyBUSEVOIGNlLm5hbWUgRU5EKSBBUyBsaW5rZXJfbmFtZSxcclxuICAgICAgIE1BWChDQVNFIFdIRU4gZGNyLnJlbGF0aW9uX3JvbGUgPSAnY2hlbGF0b3InIFRIRU4gY2UubmFtZSBFTkQpIEFTIGNoZWxhdG9yX25hbWUsXHJcbiAgICAgICBNQVgoQ0FTRSBXSEVOIGRjci5yZWxhdGlvbl9yb2xlID0gJ3JhZGlvbnVjbGlkZScgVEhFTiBjZS5uYW1lIEVORCkgQVMgcmFkaW9udWNsaWRlX25hbWUsXHJcbiAgICAgICBkLmNyZWF0ZWRfYXRcclxuICAgICBGUk9NIHJkY19kcnVnIGRcclxuICAgICBMRUZUIEpPSU4gZHJ1Z19jaGVtaWNhbF9yZWwgZGNyIE9OIGQuZHJ1Z19pZCA9IGRjci5kcnVnX2lkXHJcbiAgICAgTEVGVCBKT0lOIGNoZW1pY2FsX2VudGl0eSBjZSBPTiBjZS5lbnRpdHlfaWQgPSBkY3IuY2hlbWljYWxfZW50aXR5X2lkXHJcbiAgICAgJHt3aGVyZUNsYXVzZX1cclxuICAgICBHUk9VUCBCWSBkLmRydWdfaWQsIGQuZHJ1Z19uYW1lLCBkLnN0YXR1cywgZC50eXBlLCBkLmNyZWF0ZWRfYXRcclxuICAgICBPUkRFUiBCWSAke29yZGVyQ2xhdXNlfVxyXG4gICAgIExJTUlUID8gT0ZGU0VUID9gLFxyXG4gICAgWy4uLmZpbHRlclBhcmFtcywgc2FmZVBhZ2VTaXplLCBvZmZzZXRdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgW3RvdGFsUm93c10gPSBhd2FpdCBwb29sLnF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBgU0VMRUNUIENPVU5UKCopIEFTIHRvdGFsIEZST00gcmRjX2RydWcgZCAke3doZXJlQ2xhdXNlfWAsXHJcbiAgICBmaWx0ZXJQYXJhbXNcclxuICApO1xyXG5cclxuICBjb25zdCB0b3RhbCA9IE51bWJlcih0b3RhbFJvd3NbMF0/LnRvdGFsID8/IDApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaXRlbXM6IGl0ZW1zLm1hcCgocm93KSA9PiAoe1xyXG4gICAgICBkcnVnX2lkOiByb3cuZHJ1Z19pZCBhcyBzdHJpbmcsXHJcbiAgICAgIGRydWdfbmFtZTogcm93LmRydWdfbmFtZSBhcyBzdHJpbmcsXHJcbiAgICAgIHN0YXR1czogKHJvdy5zdGF0dXMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgICB0eXBlOiAocm93LnR5cGUgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgICBjb2xkX2NvbXBvdW5kX25hbWU6IChyb3cuY29sZF9jb21wb3VuZF9uYW1lIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgICAgbGlnYW5kX25hbWU6IChyb3cubGlnYW5kX25hbWUgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgICBsaW5rZXJfbmFtZTogKHJvdy5saW5rZXJfbmFtZSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICAgIGNoZWxhdG9yX25hbWU6IChyb3cuY2hlbGF0b3JfbmFtZSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICAgIHJhZGlvbnVjbGlkZV9uYW1lOiAocm93LnJhZGlvbnVjbGlkZV9uYW1lIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgICAgY3JlYXRlZF9hdDogdG9EYXRlVGltZShyb3cuY3JlYXRlZF9hdCksXHJcbiAgICB9KSksXHJcbiAgICBwYWdlOiBzYWZlUGFnZSxcclxuICAgIHBhZ2Vfc2l6ZTogc2FmZVBhZ2VTaXplLFxyXG4gICAgdG90YWwsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RCeVN0YXR1cyh7IHN0YXR1cywgbGltaXQgPSA1MCB9OiB7IHN0YXR1czogc3RyaW5nOyBsaW1pdD86IG51bWJlciB9KSB7XHJcbiAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcclxuICBjb25zdCBzYWZlTGltaXQgPSBNYXRoLm1pbihNYXRoLm1heChsaW1pdCwgMSksIDIwMCk7XHJcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgcG9vbC5xdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVCBkcnVnX2lkLCBkcnVnX25hbWUsIHN0YXR1c1xyXG4gICAgIEZST00gcmRjX2RydWdcclxuICAgICBXSEVSRSBzdGF0dXMgPSA/XHJcbiAgICAgT1JERVIgQlkgZHJ1Z19uYW1lIEFTQ1xyXG4gICAgIExJTUlUID9gLFxyXG4gICAgW3N0YXR1cy50cmltKCksIHNhZmVMaW1pdF1cclxuICApO1xyXG5cclxuICByZXR1cm4gcm93cy5tYXAoKHJvdykgPT4gKHtcclxuICAgIGRydWdfaWQ6IHJvdy5kcnVnX2lkIGFzIHN0cmluZyxcclxuICAgIGRydWdfbmFtZTogcm93LmRydWdfbmFtZSBhcyBzdHJpbmcsXHJcbiAgICBzdGF0dXM6IChyb3cuc3RhdHVzIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICB9KSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kRHJ1Z0J5TmFtZShkcnVnTmFtZTogc3RyaW5nKSB7XHJcbiAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcclxuICBjb25zdCBbcm93c10gPSBhd2FpdCBwb29sLnF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBgU0VMRUNUXHJcbiAgICAgICBkcnVnX2lkLFxyXG4gICAgICAgZXh0ZXJuYWxfaWQsXHJcbiAgICAgICBkcnVnX25hbWUsXHJcbiAgICAgICBkcnVnX3N5bm9ueW1zLFxyXG4gICAgICAgc3RhdHVzLFxyXG4gICAgICAgdHlwZSxcclxuICAgICAgIHNtaWxlcyxcclxuICAgICAgIHN0cnVjdHVyZV9pbWFnZSxcclxuICAgICAgIGNoZWJpX2lkLFxyXG4gICAgICAgcHViY2hlbV9jaWQsXHJcbiAgICAgICBwdWJjaGVtX3NpZCxcclxuICAgICAgIHVwZGF0ZWRfYXRcclxuICAgICBGUk9NIHJkY19kcnVnXHJcbiAgICAgV0hFUkUgZHJ1Z19uYW1lID0gP1xyXG4gICAgIExJTUlUIDFgLFxyXG4gICAgW2RydWdOYW1lLnRyaW0oKV1cclxuICApO1xyXG5cclxuICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCByb3cgPSByb3dzWzBdO1xyXG4gIHJldHVybiB7XHJcbiAgICBkcnVnX2lkOiByb3cuZHJ1Z19pZCBhcyBzdHJpbmcsXHJcbiAgICBleHRlcm5hbF9pZDogKHJvdy5leHRlcm5hbF9pZCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBkcnVnX25hbWU6IHJvdy5kcnVnX25hbWUgYXMgc3RyaW5nLFxyXG4gICAgZHJ1Z19zeW5vbnltczogKHJvdy5kcnVnX3N5bm9ueW1zIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHN0YXR1czogKHJvdy5zdGF0dXMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgdHlwZTogKHJvdy50eXBlIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHNtaWxlczogKHJvdy5zbWlsZXMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgc3RydWN0dXJlX2ltYWdlOiAocm93LnN0cnVjdHVyZV9pbWFnZSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBjaGViaV9pZDogKHJvdy5jaGViaV9pZCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBwdWJjaGVtX2NpZDogKHJvdy5wdWJjaGVtX2NpZCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBwdWJjaGVtX3NpZDogKHJvdy5wdWJjaGVtX3NpZCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICB1cGRhdGVkX2F0OiB0b0RhdGVUaW1lKHJvdy51cGRhdGVkX2F0KSxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RHJ1Z0RldGFpbChkcnVnSWQ6IHN0cmluZywgb3B0aW9uczogRHJ1Z0RldGFpbE9wdGlvbnMgPSB7fSkge1xyXG4gIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XHJcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgcG9vbC5xdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVFxyXG4gICAgICAgZHJ1Z19pZCxcclxuICAgICAgIGV4dGVybmFsX2lkLFxyXG4gICAgICAgZHJ1Z19uYW1lLFxyXG4gICAgICAgZHJ1Z19zeW5vbnltcyxcclxuICAgICAgIHN0YXR1cyxcclxuICAgICAgIHR5cGUsXHJcbiAgICAgICBzbWlsZXMsXHJcbiAgICAgICBzdHJ1Y3R1cmVfaW1hZ2UsXHJcbiAgICAgICBjaGViaV9pZCxcclxuICAgICAgIHB1YmNoZW1fY2lkLFxyXG4gICAgICAgcHViY2hlbV9zaWQsXHJcbiAgICAgICBjcmVhdGVkX2F0LFxyXG4gICAgICAgdXBkYXRlZF9hdFxyXG4gICAgIEZST00gcmRjX2RydWdcclxuICAgICBXSEVSRSBkcnVnX2lkID0gP1xyXG4gICAgIExJTUlUIDFgLFxyXG4gICAgW2RydWdJZF1cclxuICApO1xyXG5cclxuICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCByb3cgPSByb3dzWzBdO1xyXG4gIGNvbnN0IGV4cGFuZCA9IG9wdGlvbnMuZXhwYW5kID8/IG5ldyBTZXQ8RXhwYW5kU2VnbWVudD4oKTtcclxuICBjb25zdCBhbGxFbnRpdGllcyA9IG9wdGlvbnMuYWxsRW50aXRpZXMgPz8gZmFsc2U7XHJcblxyXG4gIGNvbnN0IGRldGFpbDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7XHJcbiAgICBnZW5lcmFsOiB7XHJcbiAgICAgIGRydWdfaWQ6IHJvdy5kcnVnX2lkIGFzIHN0cmluZyxcclxuICAgICAgZXh0ZXJuYWxfaWQ6IChyb3cuZXh0ZXJuYWxfaWQgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgICBkcnVnX25hbWU6IHJvdy5kcnVnX25hbWUgYXMgc3RyaW5nLFxyXG4gICAgICBkcnVnX3N5bm9ueW1zOiAocm93LmRydWdfc3lub255bXMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgICBzdGF0dXM6IChyb3cuc3RhdHVzIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgICAgdHlwZTogKHJvdy50eXBlIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgICAgc21pbGVzOiAocm93LnNtaWxlcyBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICAgIHN0cnVjdHVyZV9pbWFnZTogKHJvdy5zdHJ1Y3R1cmVfaW1hZ2UgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgICBjaGViaV9pZDogKHJvdy5jaGViaV9pZCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICAgIHB1YmNoZW1fY2lkOiAocm93LnB1YmNoZW1fY2lkIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgICAgcHViY2hlbV9zaWQ6IChyb3cucHViY2hlbV9zaWQgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgICBjcmVhdGVkX2F0OiB0b0RhdGVUaW1lKHJvdy5jcmVhdGVkX2F0KSxcclxuICAgICAgdXBkYXRlZF9hdDogdG9EYXRlVGltZShyb3cudXBkYXRlZF9hdCksXHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG4gIGRldGFpbC5jaGVtaWNhbHMgPSBhd2FpdCBidWlsZENoZW1pY2FsQmxvY2soZHJ1Z0lkLCBhbGxFbnRpdGllcyk7XHJcblxyXG4gIGlmIChleHBhbmQuaGFzKFwiaHVtYW5fYWN0aXZpdHlcIikpIHtcclxuICAgIGRldGFpbC5odW1hbl9hY3Rpdml0eSA9IGF3YWl0IGZldGNoSHVtYW5BY3Rpdml0eShkcnVnSWQpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGV4cGFuZC5oYXMoXCJhbmltYWxfaW5fdml2b1wiKSkge1xyXG4gICAgZGV0YWlsLmFuaW1hbF9pbl92aXZvID0gYXdhaXQgZmV0Y2hBbmltYWxJblZpdm8oZHJ1Z0lkKTtcclxuICB9XHJcblxyXG4gIGlmIChleHBhbmQuaGFzKFwiaW5fdml0cm9cIikpIHtcclxuICAgIGRldGFpbC5pbl92aXRybyA9IGF3YWl0IGZldGNoSW5WaXRybyhkcnVnSWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRldGFpbDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYnVpbGRDaGVtaWNhbEJsb2NrKGRydWdJZDogc3RyaW5nLCBhbGxFbnRpdGllczogYm9vbGVhbikge1xyXG4gIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XHJcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgcG9vbC5xdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVCBkY3IucmVsYXRpb25fcm9sZSwgZGNyLmNoZW1pY2FsX2VudGl0eV9pZCwgY2UubmFtZVxyXG4gICAgIEZST00gZHJ1Z19jaGVtaWNhbF9yZWwgZGNyXHJcbiAgICAgSk9JTiBjaGVtaWNhbF9lbnRpdHkgY2UgT04gY2UuZW50aXR5X2lkID0gZGNyLmNoZW1pY2FsX2VudGl0eV9pZFxyXG4gICAgIFdIRVJFIGRjci5kcnVnX2lkID0gP1xyXG4gICAgIE9SREVSIEJZIGRjci5yZWxhdGlvbl9yb2xlLCBjZS5uYW1lYCxcclxuICAgIFtkcnVnSWRdXHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgc3VtbWFyeTogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbD4gPSB7XHJcbiAgICBjb21wb3VuZDogbnVsbCxcclxuICAgIGxpZ2FuZDogbnVsbCxcclxuICAgIGxpbmtlcjogbnVsbCxcclxuICAgIGNoZWxhdG9yOiBudWxsLFxyXG4gICAgcmFkaW9udWNsaWRlOiBudWxsLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdyb3VwZWQ6IFJlY29yZDxzdHJpbmcsIEFycmF5PHsgZW50aXR5X2lkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcmVsYXRpb25fcm9sZT86IHN0cmluZyB9Pj4gPSB7XHJcbiAgICBjb21wb3VuZDogW10sXHJcbiAgICBsaWdhbmQ6IFtdLFxyXG4gICAgbGlua2VyOiBbXSxcclxuICAgIGNoZWxhdG9yOiBbXSxcclxuICAgIHJhZGlvbnVjbGlkZTogW10sXHJcbiAgfTtcclxuXHJcbiAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBTdHJpbmcocm93LnJlbGF0aW9uX3JvbGUgPz8gXCJcIikudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmICghRU5USVRZX0NBVEVHT1JJRVMuaW5jbHVkZXMoY2F0ZWdvcnkgYXMgKHR5cGVvZiBFTlRJVFlfQ0FURUdPUklFUylbbnVtYmVyXSkpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBpZiAoIXN1bW1hcnlbY2F0ZWdvcnldKSB7XHJcbiAgICAgIHN1bW1hcnlbY2F0ZWdvcnldID0gKHJvdy5uYW1lIGFzIHN0cmluZykgPz8gbnVsbDtcclxuICAgIH1cclxuICAgIGdyb3VwZWRbY2F0ZWdvcnldLnB1c2goe1xyXG4gICAgICBlbnRpdHlfaWQ6IHJvdy5jaGVtaWNhbF9lbnRpdHlfaWQgYXMgc3RyaW5nLFxyXG4gICAgICBuYW1lOiAocm93Lm5hbWUgYXMgc3RyaW5nKSA/PyBcIlwiLFxyXG4gICAgICByZWxhdGlvbl9yb2xlOiByb3cucmVsYXRpb25fcm9sZSBhcyBzdHJpbmcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGJsb2NrOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcclxuICAgIGNvbXBvdW5kX25hbWU6IHN1bW1hcnkuY29tcG91bmQsXHJcbiAgICBsaWdhbmRfbmFtZTogc3VtbWFyeS5saWdhbmQsXHJcbiAgICBsaW5rZXJfbmFtZTogc3VtbWFyeS5saW5rZXIsXHJcbiAgICBjaGVsYXRvcl9uYW1lOiBzdW1tYXJ5LmNoZWxhdG9yLFxyXG4gICAgcmFkaW9udWNsaWRlX25hbWU6IHN1bW1hcnkucmFkaW9udWNsaWRlLFxyXG4gIH07XHJcblxyXG4gIGlmIChhbGxFbnRpdGllcykge1xyXG4gICAgYmxvY2suZW50aXRpZXMgPSBncm91cGVkO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGJsb2NrO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaEh1bWFuQWN0aXZpdHkoZHJ1Z0lkOiBzdHJpbmcpIHtcclxuICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xyXG4gIGNvbnN0IFtyb3dzXSA9IGF3YWl0IHBvb2wucXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgY2xpbmljYWxfdHJpYWxfbnVtYmVyLCBpbmRpY2F0aW9uLCBwYXRpZW50cywgZG9zYWdlLCBmcmVxdWVuY3ksXHJcbiAgICAgICAgICAgIHJlc3VsdHNfZGVzY3JpcHRpb24sIHB1cnBvc2UsIGNsaW5pY2FsX2VuZHBvaW50LCBlbmRwb2ludF9wZXJpb2QsXHJcbiAgICAgICAgICAgIGVmZmljYWN5X2Rlc2NyaXB0aW9uLCBhZHZlcnNlX2V2ZW50c19zdW1tYXJ5LCBzZWN1cml0eV9pbmRpY2F0b3JzXHJcbiAgICAgRlJPTSBodW1hbl9hY3Rpdml0eVxyXG4gICAgIFdIRVJFIGRydWdfaWQgPSA/XHJcbiAgICAgT1JERVIgQlkgY3JlYXRlZF9hdCBBU0MsIGlkIEFTQ2AsXHJcbiAgICBbZHJ1Z0lkXVxyXG4gICk7XHJcblxyXG4gIHJldHVybiByb3dzLm1hcCgocm93KSA9PiAoe1xyXG4gICAgY2xpbmljYWxfdHJpYWxfbnVtYmVyOiAocm93LmNsaW5pY2FsX3RyaWFsX251bWJlciBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBpbmRpY2F0aW9uOiAocm93LmluZGljYXRpb24gYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgcGF0aWVudHM6IChyb3cucGF0aWVudHMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgZG9zYWdlOiAocm93LmRvc2FnZSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBmcmVxdWVuY3k6IChyb3cuZnJlcXVlbmN5IGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHJlc3VsdHNfZGVzY3JpcHRpb246IChyb3cucmVzdWx0c19kZXNjcmlwdGlvbiBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBwdXJwb3NlOiAocm93LnB1cnBvc2UgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgY2xpbmljYWxfZW5kcG9pbnQ6IChyb3cuY2xpbmljYWxfZW5kcG9pbnQgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgZW5kcG9pbnRfcGVyaW9kOiAocm93LmVuZHBvaW50X3BlcmlvZCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBlZmZpY2FjeV9kZXNjcmlwdGlvbjogKHJvdy5lZmZpY2FjeV9kZXNjcmlwdGlvbiBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBhZHZlcnNlX2V2ZW50c19zdW1tYXJ5OiAocm93LmFkdmVyc2VfZXZlbnRzX3N1bW1hcnkgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgc2VjdXJpdHlfaW5kaWNhdG9yczogKHJvdy5zZWN1cml0eV9pbmRpY2F0b3JzIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICB9KSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoQW5pbWFsSW5WaXZvKGRydWdJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgcG9vbCA9IGdldFBvb2woKTtcclxuICBjb25zdCBbc3R1ZGllc10gPSBhd2FpdCBwb29sLnF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBgU0VMRUNUIHN0dWR5X2lkLCBwbWlkLCBkb2lcclxuICAgICBGUk9NIGFuaW1hbF9pbl92aXZvX3N0dWR5XHJcbiAgICAgV0hFUkUgZHJ1Z19pZCA9ID9cclxuICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IEFTQywgaWQgQVNDYCxcclxuICAgIFtkcnVnSWRdXHJcbiAgKTtcclxuXHJcbiAgaWYgKHN0dWRpZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4geyBzdHVkaWVzOiBbXSB9O1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3R1ZHlJZHMgPSBzdHVkaWVzLm1hcCgocm93KSA9PiByb3cuc3R1ZHlfaWQgYXMgc3RyaW5nKTtcclxuICBjb25zdCBwbGFjZWhvbGRlcnMgPSBzdHVkeUlkcy5tYXAoKCkgPT4gXCI/XCIpLmpvaW4oXCIsXCIpO1xyXG5cclxuICBjb25zdCBbcGtSb3dzXSA9IGF3YWl0IHBvb2wucXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgKiBGUk9NIGFuaW1hbF9pbl92aXZvX3BrIFdIRVJFIHN0dWR5X3JlZl9pZCBJTiAoJHtwbGFjZWhvbGRlcnN9KSBPUkRFUiBCWSBpZCBBU0NgLFxyXG4gICAgc3R1ZHlJZHNcclxuICApO1xyXG4gIGNvbnN0IFtiaW9kaXN0Um93c10gPSBhd2FpdCBwb29sLnF1ZXJ5PFJvd0RhdGFQYWNrZXRbXT4oXHJcbiAgICBgU0VMRUNUICogRlJPTSBhbmltYWxfaW5fdml2b19iaW9kaXN0IFdIRVJFIHN0dWR5X3JlZl9pZCBJTiAoJHtwbGFjZWhvbGRlcnN9KSBPUkRFUiBCWSBpZCBBU0NgLFxyXG4gICAgc3R1ZHlJZHNcclxuICApO1xyXG4gIGNvbnN0IFtlZmZpY2FjeVJvd3NdID0gYXdhaXQgcG9vbC5xdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVCAqIEZST00gYW5pbWFsX2luX3Zpdm9fZWZmaWNhY3kgV0hFUkUgc3R1ZHlfcmVmX2lkIElOICgke3BsYWNlaG9sZGVyc30pIE9SREVSIEJZIGlkIEFTQ2AsXHJcbiAgICBzdHVkeUlkc1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IHBrQnlTdHVkeSA9IGdyb3VwQnkocGtSb3dzLCAocm93KSA9PiByb3cuc3R1ZHlfcmVmX2lkIGFzIHN0cmluZyk7XHJcbiAgY29uc3QgYmlvZGlzdEJ5U3R1ZHkgPSBncm91cEJ5KGJpb2Rpc3RSb3dzLCAocm93KSA9PiByb3cuc3R1ZHlfcmVmX2lkIGFzIHN0cmluZyk7XHJcbiAgY29uc3QgZWZmaWNhY3lCeVN0dWR5ID0gZ3JvdXBCeShlZmZpY2FjeVJvd3MsIChyb3cpID0+IHJvdy5zdHVkeV9yZWZfaWQgYXMgc3RyaW5nKTtcclxuXHJcbiAgY29uc3QgbWFwcGVkID0gc3R1ZGllcy5tYXAoKHN0dWR5KSA9PiB7XHJcbiAgICBjb25zdCBzdHVkeUlkID0gc3R1ZHkuc3R1ZHlfaWQgYXMgc3RyaW5nO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3R1ZHlfaWQ6IHN0dWR5SWQsXHJcbiAgICAgIHBtaWQ6IChzdHVkeS5wbWlkIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgICAgZG9pOiAoc3R1ZHkuZG9pIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgICAgcGs6IChwa0J5U3R1ZHkuZ2V0KHN0dWR5SWQpID8/IFtdKS5tYXAobWFwUGspLFxyXG4gICAgICBiaW9kaXN0cmlidXRpb246IChiaW9kaXN0QnlTdHVkeS5nZXQoc3R1ZHlJZCkgPz8gW10pLm1hcChtYXBCaW9kaXN0KSxcclxuICAgICAgZWZmaWNhY3k6IChlZmZpY2FjeUJ5U3R1ZHkuZ2V0KHN0dWR5SWQpID8/IFtdKS5tYXAobWFwRWZmaWNhY3kpLFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHsgc3R1ZGllczogbWFwcGVkIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hcFBrKHJvdzogUm93RGF0YVBhY2tldCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBwa19hbmltYWxfbW9kZWw6IChyb3cucGtfYW5pbWFsX21vZGVsIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHBrX2Rvc2FnZV9zeW1ib2xzOiAocm93LnBrX2Rvc2FnZV9zeW1ib2xzIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHBrX2Rvc2FnZV92YWx1ZTogdG9OdW1iZXIocm93LnBrX2Rvc2FnZV92YWx1ZSksXHJcbiAgICBwa19kb3NhZ2VfdW5pdDogKHJvdy5wa19kb3NhZ2VfdW5pdCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBwa19kZXNjcmlwdGlvbjogKHJvdy5wa19kZXNjcmlwdGlvbiBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBoYWxmX2xpZmU6IChyb3cuaGFsZl9saWZlIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHBrX2ltYWdlOiAocm93LnBrX2ltYWdlIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBCaW9kaXN0KHJvdzogUm93RGF0YVBhY2tldCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBiaW9kaXN0X3R5cGU6IChyb3cuYmlvZGlzdF90eXBlIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIGFuaW1hbF9tb2RlbDogKHJvdy5hbmltYWxfbW9kZWwgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgZG9zYWdlX3N5bWJvbHM6IChyb3cuZG9zYWdlX3N5bWJvbHMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgZG9zYWdlX3ZhbHVlOiB0b051bWJlcihyb3cuZG9zYWdlX3ZhbHVlKSxcclxuICAgIGRvc2FnZV91bml0OiAocm93LmRvc2FnZV91bml0IGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIG1ldGFib2xpc206IChyb3cubWV0YWJvbGlzbSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBleGNyZXRpb246IChyb3cuZXhjcmV0aW9uIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIGRldGVjdGlvbl90aW1lOiAocm93LmRldGVjdGlvbl90aW1lIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHR1bW9yX3JldGVudGlvbl90aW1lOiAocm93LnR1bW9yX3JldGVudGlvbl90aW1lIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHRicjoge1xyXG4gICAgICB0dW1vcl9ibG9vZDogdG9OdW1iZXIocm93LnRicl90dW1vcl9ibG9vZCksXHJcbiAgICAgIHR1bW9yX211c2NsZTogdG9OdW1iZXIocm93LnRicl90dW1vcl9tdXNjbGUpLFxyXG4gICAgICB0dW1vcl9raWRuZXk6IHRvTnVtYmVyKHJvdy50YnJfdHVtb3Jfa2lkbmV5KSxcclxuICAgICAgdHVtb3Jfc2FsaXZhcnlfZ2xhbmRzOiB0b051bWJlcihyb3cudGJyX3R1bW9yX3NhbGl2YXJ5X2dsYW5kcyksXHJcbiAgICAgIHR1bW9yX2xpdmVyOiB0b051bWJlcihyb3cudGJyX3R1bW9yX2xpdmVyKSxcclxuICAgICAgdHVtb3JfbHVuZzogdG9OdW1iZXIocm93LnRicl90dW1vcl9sdW5nKSxcclxuICAgICAgdHVtb3JfaGVhcnQ6IHRvTnVtYmVyKHJvdy50YnJfdHVtb3JfaGVhcnQpLFxyXG4gICAgfSxcclxuICAgIGJpb2Rpc3RfcmVzdWx0X2ltYWdlOiAocm93LmJpb2Rpc3RfcmVzdWx0X2ltYWdlIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIGJpb2Rpc3RfZGVzY3JpcHRpb246IChyb3cuYmlvZGlzdF9kZXNjcmlwdGlvbiBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwRWZmaWNhY3kocm93OiBSb3dEYXRhUGFja2V0KSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGVmZmljYWN5X2FuaW1hbF9tb2RlbDogKHJvdy5lZmZpY2FjeV9hbmltYWxfbW9kZWwgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgZWZmaWNhY3lfZG9zYWdlX3N5bWJvbHM6IChyb3cuZWZmaWNhY3lfZG9zYWdlX3N5bWJvbHMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgZWZmaWNhY3lfZG9zYWdlX3ZhbHVlOiB0b051bWJlcihyb3cuZWZmaWNhY3lfZG9zYWdlX3ZhbHVlKSxcclxuICAgIGVmZmljYWN5X2Rvc2FnZV91bml0OiAocm93LmVmZmljYWN5X2Rvc2FnZV91bml0IGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIGVmZmljYWN5X2Rlc2NyaXB0aW9uOiAocm93LmVmZmljYWN5X2Rlc2NyaXB0aW9uIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIGFkdmVyc2VfcmVhY3Rpb25zOiAocm93LmFkdmVyc2VfcmVhY3Rpb25zIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaEluVml0cm8oZHJ1Z0lkOiBzdHJpbmcpIHtcclxuICBjb25zdCBwb29sID0gZ2V0UG9vbCgpO1xyXG4gIGNvbnN0IFtzdHVkaWVzXSA9IGF3YWl0IHBvb2wucXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgaW5fdml0cm9faWQsIHN0dWR5X292ZXJ2aWV3XHJcbiAgICAgRlJPTSBpbl92aXRyb1xyXG4gICAgIFdIRVJFIGRydWdfaWQgPSA/XHJcbiAgICAgT1JERVIgQlkgY3JlYXRlZF9hdCBBU0MsIGlkIEFTQ2AsXHJcbiAgICBbZHJ1Z0lkXVxyXG4gICk7XHJcblxyXG4gIGlmIChzdHVkaWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIHsgc3R1ZGllczogW10gfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHN0dWR5SWRzID0gc3R1ZGllcy5tYXAoKHJvdykgPT4gcm93LmluX3ZpdHJvX2lkIGFzIHN0cmluZyk7XHJcbiAgY29uc3QgcGxhY2Vob2xkZXJzID0gc3R1ZHlJZHMubWFwKCgpID0+IFwiP1wiKS5qb2luKFwiLFwiKTtcclxuICBjb25zdCBbbWVhc3VyZW1lbnRzXSA9IGF3YWl0IHBvb2wucXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgKiBGUk9NIGluX3ZpdHJvX21lYXN1cmVtZW50IFdIRVJFIGluX3ZpdHJvX3JlZl9pZCBJTiAoJHtwbGFjZWhvbGRlcnN9KSBPUkRFUiBCWSBpZCBBU0NgLFxyXG4gICAgc3R1ZHlJZHNcclxuICApO1xyXG5cclxuICBjb25zdCBtZWFzdXJlbWVudEdyb3VwcyA9IG5ldyBNYXA8c3RyaW5nLCBBcnJheTxSZXR1cm5UeXBlPHR5cGVvZiBtYXBNZWFzdXJlbWVudD4+PigpO1xyXG5cclxuICBmb3IgKGNvbnN0IG1lYXN1cmVtZW50IG9mIG1lYXN1cmVtZW50cykge1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSAobWVhc3VyZW1lbnQubWVhc3VyZW1lbnRfY2F0ZWdvcnkgYXMgc3RyaW5nKSA/PyBcIm90aGVyXCI7XHJcbiAgICBpZiAoIW1lYXN1cmVtZW50R3JvdXBzLmhhcyhjYXRlZ29yeSkpIHtcclxuICAgICAgbWVhc3VyZW1lbnRHcm91cHMuc2V0KGNhdGVnb3J5LCBbXSk7XHJcbiAgICB9XHJcbiAgICBtZWFzdXJlbWVudEdyb3Vwcy5nZXQoY2F0ZWdvcnkpIS5wdXNoKG1hcE1lYXN1cmVtZW50KG1lYXN1cmVtZW50KSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc3R1ZGllczogc3R1ZGllcy5tYXAoKHN0dWR5KSA9PiAoe1xyXG4gICAgICBpbl92aXRyb19pZDogc3R1ZHkuaW5fdml0cm9faWQgYXMgc3RyaW5nLFxyXG4gICAgICBzdHVkeV9vdmVydmlldzogKHN0dWR5LnN0dWR5X292ZXJ2aWV3IGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIH0pKSxcclxuICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhtZWFzdXJlbWVudEdyb3Vwcy5lbnRyaWVzKCkpLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hcE1lYXN1cmVtZW50KHJvdzogUm93RGF0YVBhY2tldCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBtZWFzdXJlbWVudF90eXBlOiAocm93Lm1lYXN1cmVtZW50X3R5cGUgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgbWVhc3VyZW1lbnRfc3ltYm9sczogKHJvdy5tZWFzdXJlbWVudF9zeW1ib2xzIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIG1lYXN1cmVtZW50X3ZhbHVlOiB0b051bWJlcihyb3cubWVhc3VyZW1lbnRfdmFsdWUpLFxyXG4gICAgbWVhc3VyZW1lbnRfdW5pdDogKHJvdy5tZWFzdXJlbWVudF91bml0IGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIG1ldGhvZF9kZXNjcmlwdGlvbjogKHJvdy5tZXRob2RfZGVzY3JpcHRpb24gYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdyb3VwQnkocm93czogUm93RGF0YVBhY2tldFtdLCBnZXR0ZXI6IChyb3c6IFJvd0RhdGFQYWNrZXQpID0+IHN0cmluZykge1xyXG4gIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBSb3dEYXRhUGFja2V0W10+KCk7XHJcbiAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xyXG4gICAgY29uc3Qga2V5ID0gZ2V0dGVyKHJvdyk7XHJcbiAgICBpZiAoIW1hcC5oYXMoa2V5KSkge1xyXG4gICAgICBtYXAuc2V0KGtleSwgW10pO1xyXG4gICAgfVxyXG4gICAgbWFwLmdldChrZXkpIS5wdXNoKHJvdyk7XHJcbiAgfVxyXG4gIHJldHVybiBtYXA7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEVudGl0eUNhdGVnb3J5ID0gXCJjb21wb3VuZFwiIHwgXCJsaWdhbmRcIiB8IFwibGlua2VyXCIgfCBcImNoZWxhdG9yXCIgfCBcInJhZGlvbnVjbGlkZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDaGVtaWNhbERldGFpbE9wdGlvbnMge1xyXG4gIGluY2x1ZGVBY3Rpdml0eT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVudGl0eUNhdGVnb3J5KHZhbHVlOiBzdHJpbmcpOiB2YWx1ZSBpcyBFbnRpdHlDYXRlZ29yeSB7XHJcbiAgcmV0dXJuIEVOVElUWV9DQVRFR09SSUVTLmluY2x1ZGVzKHZhbHVlIGFzIEVudGl0eUNhdGVnb3J5KTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENoZW1pY2FsRGV0YWlsKFxyXG4gIGVudGl0eUNhdGVnb3J5OiBFbnRpdHlDYXRlZ29yeSxcclxuICBlbnRpdHlJZDogc3RyaW5nLFxyXG4gIG9wdGlvbnM6IENoZW1pY2FsRGV0YWlsT3B0aW9ucyA9IHt9XHJcbikge1xyXG4gIGNvbnN0IHBvb2wgPSBnZXRQb29sKCk7XHJcbiAgY29uc3QgaW5jbHVkZUFjdGl2aXR5ID0gb3B0aW9ucy5pbmNsdWRlQWN0aXZpdHkgPz8gdHJ1ZTtcclxuXHJcbiAgLy8g5p+l6K+i5YyW5a2m5a6e5L2T5Z+656GA5L+h5oGvXHJcbiAgY29uc3QgW3Jvd3NdID0gYXdhaXQgcG9vbC5xdWVyeTxSb3dEYXRhUGFja2V0W10+KFxyXG4gICAgYFNFTEVDVFxyXG4gICAgICAgZW50aXR5X2NhdGVnb3J5LFxyXG4gICAgICAgZW50aXR5X2lkLFxyXG4gICAgICAgbmFtZSxcclxuICAgICAgIHN5bm9ueW1zLFxyXG4gICAgICAgc21pbGVzLFxyXG4gICAgICAgZm9ybXVsYSxcclxuICAgICAgIHN0cnVjdHVyZV9pbWFnZSxcclxuICAgICAgIG1vbDJkX3BhdGgsXHJcbiAgICAgICBtb2wzZF9wYXRoLFxyXG4gICAgICAgcHViY2hlbV9jaWQsXHJcbiAgICAgICBpbmNoaSxcclxuICAgICAgIGluY2hpa2V5LFxyXG4gICAgICAgaXVwYWNfbmFtZSxcclxuICAgICAgIG1vbGVjdWxhcl93ZWlnaHQsXHJcbiAgICAgICBjb21wbGV4aXR5LFxyXG4gICAgICAgaGVhdnlfYXRvbV9jb3VudCxcclxuICAgICAgIGhib25kX2FjY2VwdG9ycyxcclxuICAgICAgIGhib25kX2Rvbm9ycyxcclxuICAgICAgIHJvdGF0YWJsZV9ib25kcyxcclxuICAgICAgIGxvZ3AsXHJcbiAgICAgICB0cHNhLFxyXG4gICAgICAgbGlua2VyX3R5cGUsXHJcbiAgICAgICByYWRpb251Y2xpZGVfc3ltYm9sLFxyXG4gICAgICAgcmFkaW9udWNsaWRlX2hhbGZfbGlmZSxcclxuICAgICAgIHJhZGlvbnVjbGlkZV9lbWlzc2lvbixcclxuICAgICAgIHJhZGlvbnVjbGlkZV9lbmVyZ3lcclxuICAgICBGUk9NIGNoZW1pY2FsX2VudGl0eVxyXG4gICAgIFdIRVJFIGVudGl0eV9jYXRlZ29yeSA9ID8gQU5EIGVudGl0eV9pZCA9ID9cclxuICAgICBMSU1JVCAxYCxcclxuICAgIFtlbnRpdHlDYXRlZ29yeSwgZW50aXR5SWRdXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm93ID0gcm93c1swXTtcclxuICBjb25zdCBiYXNpYyA9IHtcclxuICAgIGVudGl0eV9jYXRlZ29yeTogcm93LmVudGl0eV9jYXRlZ29yeSBhcyBzdHJpbmcsXHJcbiAgICBlbnRpdHlfaWQ6IHJvdy5lbnRpdHlfaWQgYXMgc3RyaW5nLFxyXG4gICAgbmFtZTogKHJvdy5uYW1lIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHN5bm9ueW1zOiAocm93LnN5bm9ueW1zIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHNtaWxlczogKHJvdy5zbWlsZXMgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgZm9ybXVsYTogKHJvdy5mb3JtdWxhIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHN0cnVjdHVyZV9pbWFnZTogKHJvdy5zdHJ1Y3R1cmVfaW1hZ2UgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgbW9sMmRfcGF0aDogKHJvdy5tb2wyZF9wYXRoIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIG1vbDNkX3BhdGg6IChyb3cubW9sM2RfcGF0aCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBwdWJjaGVtX2NpZDogKHJvdy5wdWJjaGVtX2NpZCBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBpbmNoaTogKHJvdy5pbmNoaSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBpbmNoaWtleTogKHJvdy5pbmNoaWtleSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICBpdXBhY19uYW1lOiAocm93Lml1cGFjX25hbWUgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgbW9sZWN1bGFyX3dlaWdodDogdG9OdW1iZXIocm93Lm1vbGVjdWxhcl93ZWlnaHQpLFxyXG4gICAgY29tcGxleGl0eTogdG9OdW1iZXIocm93LmNvbXBsZXhpdHkpLFxyXG4gICAgaGVhdnlfYXRvbV9jb3VudDogdG9OdW1iZXIocm93LmhlYXZ5X2F0b21fY291bnQpLFxyXG4gICAgaGJvbmRfYWNjZXB0b3JzOiB0b051bWJlcihyb3cuaGJvbmRfYWNjZXB0b3JzKSxcclxuICAgIGhib25kX2Rvbm9yczogdG9OdW1iZXIocm93Lmhib25kX2Rvbm9ycyksXHJcbiAgICByb3RhdGFibGVfYm9uZHM6IHRvTnVtYmVyKHJvdy5yb3RhdGFibGVfYm9uZHMpLFxyXG4gICAgbG9ncDogdG9OdW1iZXIocm93LmxvZ3ApLFxyXG4gICAgdHBzYTogdG9OdW1iZXIocm93LnRwc2EpLFxyXG4gICAgbGlua2VyX3R5cGU6IChyb3cubGlua2VyX3R5cGUgYXMgc3RyaW5nKSA/PyBudWxsLFxyXG4gICAgcmFkaW9udWNsaWRlX3N5bWJvbDogKHJvdy5yYWRpb251Y2xpZGVfc3ltYm9sIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHJhZGlvbnVjbGlkZV9oYWxmX2xpZmU6IChyb3cucmFkaW9udWNsaWRlX2hhbGZfbGlmZSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgICByYWRpb251Y2xpZGVfZW1pc3Npb246IChyb3cucmFkaW9udWNsaWRlX2VtaXNzaW9uIGFzIHN0cmluZykgPz8gbnVsbCxcclxuICAgIHJhZGlvbnVjbGlkZV9lbmVyZ3k6IChyb3cucmFkaW9udWNsaWRlX2VuZXJneSBhcyBzdHJpbmcpID8/IG51bGwsXHJcbiAgfTtcclxuXHJcbiAgaWYgKCFpbmNsdWRlQWN0aXZpdHkpIHtcclxuICAgIHJldHVybiB7IGJhc2ljIH07XHJcbiAgfVxyXG5cclxuICAvLyDmn6Xmib7kvb/nlKjor6XljJblrablrp7kvZPnmoTmiYDmnInoja/nialcclxuICBjb25zdCBbcmVsYXRlZERydWdSb3dzXSA9IGF3YWl0IHBvb2wucXVlcnk8Um93RGF0YVBhY2tldFtdPihcclxuICAgIGBTRUxFQ1QgRElTVElOQ1QgZHJ1Z19pZFxyXG4gICAgIEZST00gZHJ1Z19jaGVtaWNhbF9yZWxcclxuICAgICBXSEVSRSBjaGVtaWNhbF9lbnRpdHlfaWQgPSA/XHJcbiAgICAgT1JERVIgQlkgZHJ1Z19pZGAsXHJcbiAgICBbZW50aXR5SWRdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgZHJ1Z0lkcyA9IHJlbGF0ZWREcnVnUm93cy5tYXAoKHIpID0+IHIuZHJ1Z19pZCBhcyBzdHJpbmcpO1xyXG5cclxuICBpZiAoZHJ1Z0lkcy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiB7IGJhc2ljLCByZGNfYWN0aXZpdHk6IFtdIH07XHJcbiAgfVxyXG5cclxuICAvLyDkuLrmr4/kuKrlhbPogZTnmoToja/nianojrflj5blrozmlbTnmoTmtLvmgKfmlbDmja5cclxuICBjb25zdCByZGNBY3Rpdml0eSA9IFtdO1xyXG4gIGZvciAoY29uc3QgZHJ1Z0lkIG9mIGRydWdJZHMpIHtcclxuICAgIGNvbnN0IGRldGFpbCA9IGF3YWl0IGdldERydWdEZXRhaWwoZHJ1Z0lkLCB7XHJcbiAgICAgIGV4cGFuZDogbmV3IFNldChbXCJjaGVtaWNhbHNcIiwgXCJodW1hbl9hY3Rpdml0eVwiLCBcImFuaW1hbF9pbl92aXZvXCIsIFwiaW5fdml0cm9cIl0pLFxyXG4gICAgICBhbGxFbnRpdGllczogdHJ1ZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChkZXRhaWwpIHtcclxuICAgICAgY29uc3QgZ2VuZXJhbCA9IGRldGFpbC5nZW5lcmFsIGFzIHtcclxuICAgICAgICBkcnVnX2lkOiBzdHJpbmc7XHJcbiAgICAgICAgZHJ1Z19uYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgc3RhdHVzOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgICAgIHR5cGU6IHN0cmluZyB8IG51bGw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZGNBY3Rpdml0eS5wdXNoKHtcclxuICAgICAgICBkcnVnX2lkOiBnZW5lcmFsLmRydWdfaWQsXHJcbiAgICAgICAgZHJ1Z19uYW1lOiBnZW5lcmFsLmRydWdfbmFtZSxcclxuICAgICAgICBzdGF0dXM6IGdlbmVyYWwuc3RhdHVzID8/IG51bGwsXHJcbiAgICAgICAgdHlwZTogZ2VuZXJhbC50eXBlID8/IG51bGwsXHJcbiAgICAgICAgaHVtYW5fYWN0aXZpdHk6IGRldGFpbC5odW1hbl9hY3Rpdml0eSA/PyBbXSxcclxuICAgICAgICBhbmltYWxfaW5fdml2bzogZGV0YWlsLmFuaW1hbF9pbl92aXZvID8/IHsgc3R1ZGllczogW10gfSxcclxuICAgICAgICBpbl92aXRybzogZGV0YWlsLmluX3ZpdHJvID8/IHt9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7IGJhc2ljLCByZGNfYWN0aXZpdHk6IHJkY0FjdGl2aXR5IH07XHJcbn1cclxuIl0sIm5hbWVzIjpbImdldFBvb2wiLCJFTlRJVFlfQ0FURUdPUklFUyIsInRvTnVtYmVyIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJudW0iLCJOdW1iZXIiLCJpc05hTiIsInRvRGF0ZVRpbWUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJkYXRlIiwiU3RyaW5nIiwiZ2V0VGltZSIsIm5vcm1hbGl6ZVNvcnQiLCJzb3J0IiwibGlzdFN0YXR1c0RpY3QiLCJwb29sIiwicm93cyIsInF1ZXJ5IiwibWFwIiwicm93Iiwic3RhdHVzIiwiZmlsdGVyIiwidHJpbSIsImxlbmd0aCIsImxhYmVsIiwic2VhcmNoRHJ1Z3MiLCJxIiwibGltaXQiLCJzYWZlTGltaXQiLCJNYXRoIiwibWluIiwibWF4IiwiZHJ1Z19pZCIsImRydWdfbmFtZSIsImxpc3REcnVncyIsInBhcmFtcyIsInBhZ2UiLCJwYWdlU2l6ZSIsImZpbHRlcnMiLCJmaWx0ZXJQYXJhbXMiLCJwdXNoIiwid2hlcmVDbGF1c2UiLCJqb2luIiwib3JkZXJDbGF1c2UiLCJzYWZlUGFnZSIsInNhZmVQYWdlU2l6ZSIsIm9mZnNldCIsIml0ZW1zIiwidG90YWxSb3dzIiwidG90YWwiLCJ0eXBlIiwiY29sZF9jb21wb3VuZF9uYW1lIiwibGlnYW5kX25hbWUiLCJsaW5rZXJfbmFtZSIsImNoZWxhdG9yX25hbWUiLCJyYWRpb251Y2xpZGVfbmFtZSIsImNyZWF0ZWRfYXQiLCJwYWdlX3NpemUiLCJsaXN0QnlTdGF0dXMiLCJmaW5kRHJ1Z0J5TmFtZSIsImRydWdOYW1lIiwiZXh0ZXJuYWxfaWQiLCJkcnVnX3N5bm9ueW1zIiwic21pbGVzIiwic3RydWN0dXJlX2ltYWdlIiwiY2hlYmlfaWQiLCJwdWJjaGVtX2NpZCIsInB1YmNoZW1fc2lkIiwidXBkYXRlZF9hdCIsImdldERydWdEZXRhaWwiLCJkcnVnSWQiLCJvcHRpb25zIiwiZXhwYW5kIiwiU2V0IiwiYWxsRW50aXRpZXMiLCJkZXRhaWwiLCJnZW5lcmFsIiwiY2hlbWljYWxzIiwiYnVpbGRDaGVtaWNhbEJsb2NrIiwiaGFzIiwiaHVtYW5fYWN0aXZpdHkiLCJmZXRjaEh1bWFuQWN0aXZpdHkiLCJhbmltYWxfaW5fdml2byIsImZldGNoQW5pbWFsSW5WaXZvIiwiaW5fdml0cm8iLCJmZXRjaEluVml0cm8iLCJzdW1tYXJ5IiwiY29tcG91bmQiLCJsaWdhbmQiLCJsaW5rZXIiLCJjaGVsYXRvciIsInJhZGlvbnVjbGlkZSIsImdyb3VwZWQiLCJjYXRlZ29yeSIsInJlbGF0aW9uX3JvbGUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwibmFtZSIsImVudGl0eV9pZCIsImNoZW1pY2FsX2VudGl0eV9pZCIsImJsb2NrIiwiY29tcG91bmRfbmFtZSIsImVudGl0aWVzIiwiY2xpbmljYWxfdHJpYWxfbnVtYmVyIiwiaW5kaWNhdGlvbiIsInBhdGllbnRzIiwiZG9zYWdlIiwiZnJlcXVlbmN5IiwicmVzdWx0c19kZXNjcmlwdGlvbiIsInB1cnBvc2UiLCJjbGluaWNhbF9lbmRwb2ludCIsImVuZHBvaW50X3BlcmlvZCIsImVmZmljYWN5X2Rlc2NyaXB0aW9uIiwiYWR2ZXJzZV9ldmVudHNfc3VtbWFyeSIsInNlY3VyaXR5X2luZGljYXRvcnMiLCJzdHVkaWVzIiwic3R1ZHlJZHMiLCJzdHVkeV9pZCIsInBsYWNlaG9sZGVycyIsInBrUm93cyIsImJpb2Rpc3RSb3dzIiwiZWZmaWNhY3lSb3dzIiwicGtCeVN0dWR5IiwiZ3JvdXBCeSIsInN0dWR5X3JlZl9pZCIsImJpb2Rpc3RCeVN0dWR5IiwiZWZmaWNhY3lCeVN0dWR5IiwibWFwcGVkIiwic3R1ZHkiLCJzdHVkeUlkIiwicG1pZCIsImRvaSIsInBrIiwiZ2V0IiwibWFwUGsiLCJiaW9kaXN0cmlidXRpb24iLCJtYXBCaW9kaXN0IiwiZWZmaWNhY3kiLCJtYXBFZmZpY2FjeSIsInBrX2FuaW1hbF9tb2RlbCIsInBrX2Rvc2FnZV9zeW1ib2xzIiwicGtfZG9zYWdlX3ZhbHVlIiwicGtfZG9zYWdlX3VuaXQiLCJwa19kZXNjcmlwdGlvbiIsImhhbGZfbGlmZSIsInBrX2ltYWdlIiwiYmlvZGlzdF90eXBlIiwiYW5pbWFsX21vZGVsIiwiZG9zYWdlX3N5bWJvbHMiLCJkb3NhZ2VfdmFsdWUiLCJkb3NhZ2VfdW5pdCIsIm1ldGFib2xpc20iLCJleGNyZXRpb24iLCJkZXRlY3Rpb25fdGltZSIsInR1bW9yX3JldGVudGlvbl90aW1lIiwidGJyIiwidHVtb3JfYmxvb2QiLCJ0YnJfdHVtb3JfYmxvb2QiLCJ0dW1vcl9tdXNjbGUiLCJ0YnJfdHVtb3JfbXVzY2xlIiwidHVtb3Jfa2lkbmV5IiwidGJyX3R1bW9yX2tpZG5leSIsInR1bW9yX3NhbGl2YXJ5X2dsYW5kcyIsInRicl90dW1vcl9zYWxpdmFyeV9nbGFuZHMiLCJ0dW1vcl9saXZlciIsInRicl90dW1vcl9saXZlciIsInR1bW9yX2x1bmciLCJ0YnJfdHVtb3JfbHVuZyIsInR1bW9yX2hlYXJ0IiwidGJyX3R1bW9yX2hlYXJ0IiwiYmlvZGlzdF9yZXN1bHRfaW1hZ2UiLCJiaW9kaXN0X2Rlc2NyaXB0aW9uIiwiZWZmaWNhY3lfYW5pbWFsX21vZGVsIiwiZWZmaWNhY3lfZG9zYWdlX3N5bWJvbHMiLCJlZmZpY2FjeV9kb3NhZ2VfdmFsdWUiLCJlZmZpY2FjeV9kb3NhZ2VfdW5pdCIsImFkdmVyc2VfcmVhY3Rpb25zIiwiaW5fdml0cm9faWQiLCJtZWFzdXJlbWVudHMiLCJtZWFzdXJlbWVudEdyb3VwcyIsIk1hcCIsIm1lYXN1cmVtZW50IiwibWVhc3VyZW1lbnRfY2F0ZWdvcnkiLCJzZXQiLCJtYXBNZWFzdXJlbWVudCIsInN0dWR5X292ZXJ2aWV3IiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWVhc3VyZW1lbnRfdHlwZSIsIm1lYXN1cmVtZW50X3N5bWJvbHMiLCJtZWFzdXJlbWVudF92YWx1ZSIsIm1lYXN1cmVtZW50X3VuaXQiLCJtZXRob2RfZGVzY3JpcHRpb24iLCJnZXR0ZXIiLCJrZXkiLCJ2YWxpZGF0ZUVudGl0eUNhdGVnb3J5IiwiZ2V0Q2hlbWljYWxEZXRhaWwiLCJlbnRpdHlDYXRlZ29yeSIsImVudGl0eUlkIiwiaW5jbHVkZUFjdGl2aXR5IiwiYmFzaWMiLCJlbnRpdHlfY2F0ZWdvcnkiLCJzeW5vbnltcyIsImZvcm11bGEiLCJtb2wyZF9wYXRoIiwibW9sM2RfcGF0aCIsImluY2hpIiwiaW5jaGlrZXkiLCJpdXBhY19uYW1lIiwibW9sZWN1bGFyX3dlaWdodCIsImNvbXBsZXhpdHkiLCJoZWF2eV9hdG9tX2NvdW50IiwiaGJvbmRfYWNjZXB0b3JzIiwiaGJvbmRfZG9ub3JzIiwicm90YXRhYmxlX2JvbmRzIiwibG9ncCIsInRwc2EiLCJsaW5rZXJfdHlwZSIsInJhZGlvbnVjbGlkZV9zeW1ib2wiLCJyYWRpb251Y2xpZGVfaGFsZl9saWZlIiwicmFkaW9udWNsaWRlX2VtaXNzaW9uIiwicmFkaW9udWNsaWRlX2VuZXJneSIsInJlbGF0ZWREcnVnUm93cyIsImRydWdJZHMiLCJyIiwicmRjX2FjdGl2aXR5IiwicmRjQWN0aXZpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/rdc-data.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/iconv-lite","vendor-chunks/aws-ssl-profiles","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/named-placeholders","vendor-chunks/long","vendor-chunks/safer-buffer","vendor-chunks/lru.min","vendor-chunks/is-property","vendor-chunks/generate-function","vendor-chunks/denque"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&page=%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchemical%2F%5Bentity_category%5D%2F%5Bentity_id%5D%2Froute.ts&appDir=E%3A%5Cproject%5Cdrug%5Crdc-api%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cproject%5Cdrug%5Crdc-api&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();